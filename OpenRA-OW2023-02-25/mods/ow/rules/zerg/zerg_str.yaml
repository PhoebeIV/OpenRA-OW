^ZergRegen:
	ChangesHealth@regen:
		PercentageStep: 1
		Delay: 125
		StartIfBelow: 100
		DamageCooldown: 250
	ChangesHealth@regen2:
		PercentageStep: 1
		Delay: 75
		StartIfBelow: 40
		DamageCooldown: 250
	ChangesHealth@regen_zagara:
		PercentageStep: 1
		Delay: 125
		StartIfBelow: 100
		DamageCooldown: 75
		RequiresCondition: zagara_regen
	GrantConditionOnPrerequisite@zagararegen:
		Condition: zagara_regen
		Prerequisites: zagara.tier4.regen

^ZergBuilding:
	Inherits: ^Building
	Inherits@regen: ^ZergRegen
	GrantConditionOnDamageState@blood1:
		Condition: damaged
		ValidDamageStates: Medium, Heavy, Critical
	GrantConditionOnDamageState@blood2:
		Condition: damaged2
		ValidDamageStates: Heavy, Critical
	GrantConditionOnDamageState@blood3:
		Condition: damaged3
		ValidDamageStates: Critical
	Buildable:
		Queue: Bot
		Prerequisites: ~disabled
		BuildDurationModifier: 70
		IconPalette: player-icon
		IconPaletteIsPlayerPalette: true
	Building:
		Dimensions: 1,1
		Footprint: x
		BuildSounds: zbldgplc.aud
		AllowPlacementOnResources: true
		TerrainTypes: Creep
		RequiresBaseProvider: True
	RequiresBuildableArea:
		Adjacent: 4
	RepairableBuilding:
		RepairStep: 50
		PlayerExperience: 2
		RepairPercent: 0
	ProductionTimeMultiplier@easybuild:
		Multiplier: 115
		Prerequisites: zerg.easybuild, !ai.all, !structures.zagara
	Explodes:
		Type: CenterPosition
		Weapon: LargeZergBuildingExplode
		EmptyWeapon: LargeZergBuildingExplode
	SoundOnDamageTransition:
		DamagedSounds: kaboom1.aud
		DestroyedSounds: zbldgdth.aud
	AmbientSound@completed:
		SoundFiles: zchrdy00.aud
		RequiresCondition: !build-incomplete
		Interval: -1
	ToggleConditionOnOrder@explode:
		OrderName: Sell
		Condition: sell_me
	KillsSelf@explode:
		RequiresCondition: sell_me
		Delay: 5
	ChangesHealth@regen:
		PercentageStep: 1
		Delay: 110
		StartIfBelow: 100
		DamageCooldown: 250
	ChangesHealth@regen2:
		PercentageStep: 1
		Delay: 75
		StartIfBelow: 40
		-DamageCooldown:
	ChangesHealth@trigger_repair:
		RequiresCondition: trigger_repair
		Step: 40
	-ChangesHealth@trigger_repair2:

^ZergScienceBuilding:
	Inherits: ^ZergBuilding

ZMCV:
	Inherits: MCV
	Inherits@selection: ^SelectableSupportUnit
	Buildable:
		Queue: Tech
		Prerequisites: ~mcv, ~techlevel.medium, ~infantry.zerg, ~ai.all
		Icon: icon-hatchery
	Transforms:
		IntoActor: zhatchery
		TransformSounds: zbldgplc.aud
		Facing: -256
		Offset: -1,0
	WithFacingSpriteBody:
		Sequence: stand
	WithMoveAnimation:
		MoveSequence: run
	WithDeathAnimation:
		DeathSequence: die
		UseDeathTypeSuffix: false
	-SpawnActorOnDeath:
	RenderSprites:
		Image: zdrone
	Voiced:
		VoiceSet: ZergDroneVoice
	Power:
		Amount: 10
	FreeActor@creep:
		Actor: CreepSpawnerStart
		SpawnOffset: 0,0
	ToggleConditionOnOrder:
		OrderName: Deploy
		Condition: deploying
	FreeActor@2:
		Actor: 1tnk
		SpawnOffset: 1,1
		RequiresCondition: deploying

ZMCV.2:
	Inherits: ZMCV
	Buildable:
		BuildPaletteOrder: 90
		BuildDurationModifier: 35
		Prerequisites: ~!mcv, ~techlevel.medium, ~infantry.zerg, ~ai.all
	Valued:
		Cost: 3000

CreepSpawnerBig:
	Inherits: 1TNK.MINE
	SpawnActorOnDeath:
		Actor: CreepGenBig
		OwnerType: Victim
	Explodes:
		Weapon: CreepSplashBig
		EmptyWeapon: CreepSplashBig

CreepSpawnerBig2:
	Inherits: CreepSpawnerBig
	SpawnActorOnDeath:
		Actor: CreepGenBig2

CreepSpawnerStart:
	Inherits: CreepSpawnerBig
	SpawnActorOnDeath:
		Actor: CreepGenBigStart

CreepSpawnerMedium:
	Inherits: CreepSpawnerBig
	SpawnActorOnDeath:
		Actor: CreepGenMed
	Explodes:
		Weapon: CreepSplashMed
		EmptyWeapon: CreepSplashMed

NydusSpawner:
	Inherits: CreepSpawnerBig
	SpawnActorOnDeath:
		Actor: ZNYDUS
		SkipMakeAnimations: false
	Explodes:
		Weapon: CreepSplashMed
		EmptyWeapon: CreepSplashMed
	Explodes@2:
		Weapon: CreepSplashBig
		EmptyWeapon: CreepSplashBig


CreepGenBig:
	Inherits: MINE_DUMMY
	Inherits@shape: ^1x1Shape
	Targetable:
		TargetTypes: CreepGenerator
	ExternalCondition@creep:
		Condition: creepalive
	KillsSelf:
		RequiresCondition: !creepalive
		Delay: 25
	Explodes:
		Weapon: CreepRemoveBig
	SeedsResource:
		Interval: 2
		MaxRange: 9
		ResourceType: ZergCreep
	ProximityExternalCondition:
		Condition: creepgen
		Range: 9c0
		ValidRelationships: Neutral, Ally, Enemy
	ChangesTerrain:
		TerrainType: Creep
	GrantConditionOnPrerequisite@zagaraenable:
		Prerequisites: structures.zagara
		Condition: zagara
	SeedsResource@zagara:
		RequiresCondition: zagara
		Interval: 3
		MaxRange: 9
		ResourceType: ZergCreep


CreepGenBig2:
	Inherits: CreepGenBig
	-Explodes:

CreepGenBigStart:
	Inherits: CreepGenBig
	KillsSelf:
		RequiresCondition: !creepalive
		Delay: 750
	-SeedsResource:

CreepGenMed:
	Inherits: CreepGenBig
	Explodes:
		Weapon: CreepRemoveBig
	SeedsResource:
		Interval: 3
		MaxRange: 9
	SeedsResource@zagara:
		Interval: 4

SmallZergBuildingComplete:
	Inherits: CreepSpawnerBig
	-SpawnActorOnDeath:
	Explodes:
		Weapon: SmallZergBuildingSpawn
		EmptyWeapon: SmallZergBuildingSpawn

MediumZergBuildingComplete:
	Inherits: SmallZergBuildingComplete
	Explodes:
		Weapon: MediumZergBuildingSpawn
		EmptyWeapon: MediumZergBuildingSpawn

LargeZergBuildingComplete:
	Inherits: SmallZergBuildingComplete
	Explodes:
		Weapon: LargeZergBuildingSpawn
		EmptyWeapon: LargeZergBuildingSpawn

ClonerSpawner:
	Inherits: 1TNK.MINE
	SpawnActorOnDeath:
		Actor: ZergCloner
		OwnerType: Victim
	-Explodes:

ZergCloner:
	Inherits: CreepGenBig
	Inherits@Boss: ^EpicBotPrereqs
	-Explodes:
	-SeedsResource:
	-ProximityExternalCondition:

HatcheryBib:
	Inherits: MINE_DUMMY
	Inherits@shape: ^1x1Shape
	-Immobile:
	RenderSprites:
		Image: zhatchery
	WithBuildingBib:
		Palette: player
	Building:
		Footprint: +++ ___
		Dimensions: 3,2
	Targetable:
		TargetTypes: CreepGenerator
	ExternalCondition@creep:
		Condition: creepalive
	KillsSelf:
		RequiresCondition: !creepalive
		Delay: 25
	Explodes:
		Weapon: CreepRemoveBig
	SeedsResource:
		Interval: 3
		MaxRange: 9
		ResourceType: ZergCreep
	ProximityExternalCondition:
		Condition: creepgen
		Range: 9c0
		ValidRelationships: Neutral, Ally, Enemy

ZHATCHERY:
	Inherits: ^ZergBuilding
	Inherits@prereqs: ^ConYardPrereqs
	Inherits@con: ^ConYard
	Inherits@PRIMARY: ^PrimaryBuilding
	HitShape:
		TargetableOffsets: 1273,939,0, -980,-640,0, -980,640,0
		Type: Rectangle
			TopLeft: -1536, -1536
			BottomRight: 1536, 1536
	Production@Bot:
		Produces: Bot
		RequiresCondition: botowner
	Exit@0:
		SpawnOffset: -600,1500,0
		ExitCell: 0,3
	Exit@1:
		SpawnOffset: -600,1500,0
		ExitCell: 1,3
	Exit@2:
		SpawnOffset: 0,1500,0
		ExitCell: 2,3
		ProductionTypes: Infantry, Hatchery, SpecialUnit
	RallyPoint:
	Selectable:
		Bounds: 3072, 3072
	Building:
		Footprint: =x= xxx x=x ===
		Dimensions: 3,4
		LocalCenterOffset: 0,-512,0
		BuildSounds: zbldgplc.aud
		TerrainTypes: Clear,ClearSnow,Road,Creep
		Adjacent: 9
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1000
		Prerequisites: zhydraden, ~ai.hard
		Description: actor-zhatchery.description
		BuildLimit: 3
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 3000
	Tooltip:
		Name: actor-zhatchery.name
		RequiresCondition: !lair_upgrade && !hive_upgrade
	Tooltip@1:
		Name: actor-zhatchery.lair
		RequiresCondition: lair_upgrade && !hive_upgrade
	Tooltip@2:
		Name: actor-zhatchery.hive
		RequiresCondition: hive_upgrade
	BaseBuilding:
	GrantConditionOnPrerequisite@GLOBALFACTUNDEPLOY:
		Condition: factundeploy
		Prerequisites: global-factundeploy
	Power:
		Amount: 10
	Production:
		Produces: Building,Defense,Tech,Wall
	Production@inf:
		Produces: Hatchery,Infantry
		PauseOnCondition: busy
		RequiresCondition: !zagara
	Production@inf2:
		Produces: Hatchery,Infantry
		RequiresCondition: zagara
	ProductionQueue@infantry:
		Type: Infantry
		DisplayOrder: 0
		Group: Infantry
		LowPowerModifier: 300
		BuildDurationModifier: 100
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	ProductionBar@Inf:
		ProductionType: Infantry
		Color: FF0000
	GrantExternalConditionToProduced:
		Condition: produced
	GrantConditionOnProduction@busy:
		Condition: busy
		Duration: 100
		ShowSelectionBar: false
	GrantConditionOnPrerequisite@zagaraenable:
		Prerequisites: structures.zagara
		Condition: zagara
	ProximityExternalCondition:
		Condition: wander
		Range: 3c0
		RequiresCondition: busy
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
		RequiresCondition: !lair_upgrade && !hive_upgrade
	WithDeathAnimation@1:
		DeathSequence: lair-dead
		UseDeathTypeSuffix: false
		RequiresCondition: lair_upgrade && !hive_upgrade
	WithDeathAnimation@2:
		DeathSequence: hive-dead
		UseDeathTypeSuffix: false
		RequiresCondition: hive_upgrade
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood1
		Offset: 1100,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood2
		Offset: 512,700,0
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood4
		Offset: -600,0,0
	WithIdleOverlay@main:
		Sequence: idle2
		RequiresCondition: !build-incomplete && !lair_upgrade && !hive_upgrade
	WithSpriteBody@lair:
		RequiresCondition: lair_upgrade && !hive_upgrade
		StartSequence: lair-make
		Sequence: lair-idle
	WithSpriteBody@hive:
		RequiresCondition: hive_upgrade
		StartSequence: hive-make
		Sequence: hive-idle
	FreeActor@creep0:
		Actor: HatcheryBib
		SpawnOffset: 0,0
	FreeActor@creep:
		Actor: CreepSpawnerBig
		SpawnOffset: 0,0
		RequiresCondition: !build-incomplete
	FreeActor@creep2:
		Actor: CreepSpawnerBig
		SpawnOffset: 0,3
		RequiresCondition: !build-incomplete
	FreeActor@creep3:
		Actor: CreepSpawnerBig
		SpawnOffset: 2,0
		RequiresCondition: !build-incomplete
	FreeActor@creep4:
		Actor: CreepSpawnerBig
		SpawnOffset: 2,3
		RequiresCondition: !build-incomplete
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete
	Pluggable@1:
		Offset: 1,1
		Conditions:
			zlair: lair_upgrade
			zhive: hive_upgrade
		Requirements:
			zlair: !build-incomplete && !lair_upgrade && !hive_upgrade
			zhive: lair_upgrade && !hive_upgrade
		EditorOptions:
			zlair: Lair
			zhive: Hive
	Pluggable@2:
		Offset: 1,1
		Conditions:
			zlair: lair_upgrade
			zhive: hive_upgrade
		Requirements:
			zlair: !build-incomplete && !lair_upgrade && !hive_upgrade
			zhive: lair_upgrade && !hive_upgrade
		EditorOptions:
			zlair: Lair
			zhive: Hive
	GrantConditionOnPrerequisite@botlair:
		RequiresCondition: botowner
		Condition: do_lair
		Prerequisites: zhatchery, zchamber, ~structures.zerg, ~techlevel.high, ~free_hatchery, ai.all
	GrantDelayedCondition@botlair:
		RequiresCondition: do_lair
		Condition: lair_upgrade
		Delay: 750, 1250
	GrantConditionOnPrerequisite@bothive:
		RequiresCondition: botowner
		Condition: do_hive
		Prerequisites: zlair, znest, ~structures.zerg, ~techlevel.unrestricted, ~!ulttechcenter, ai.all
	ProvidesPrerequisite@easybuild:
		RequiresPrerequisites: ai.all
		Prerequisite: zerg.easybuild
	ProvidesDelayedPrerequisite:
		Prerequisite: zerg.ezwindow
		Delay: 750
		ShowSelectionBar: false
	GrantDelayedCondition@bothive:
		RequiresCondition: do_hive && lair_upgrade && !hive_upgrade
		Condition: hive_upgrade
		Delay: 1500, 3000
	FreeActor@1:
		Actor: ZergLairComplete
		SpawnOffset: 1,1
		RequiresCondition: lair_upgrade
	FreeActor@2:
		Actor: ZergHiveComplete
		SpawnOffset: 1,1
		RequiresCondition: hive_upgrade
	DamageMultiplier@lair:
		Modifier: 75
		RequiresCondition: lair_upgrade
	DamageMultiplier@hive:
		Modifier: 50
		RequiresCondition: hive_upgrade
	ProvidesPrerequisite@noupgrade:
		RequiresCondition: !lair_upgrade && !hive_upgrade
		Prerequisite: free_hatchery
	ProvidesPrerequisite@lair:
		RequiresCondition: lair_upgrade || hive_upgrade
		Prerequisite: zlair
	ProvidesPrerequisite@advtech:
		RequiresCondition: lair_upgrade || hive_upgrade
		Prerequisite: advtechcenter
	ProvidesPrerequisite@epic1:
		RequiresCondition: hive_upgrade
		Prerequisite: zhive
	ProvidesPrerequisite@epic2:
		RequiresCondition: hive_upgrade
		Prerequisite: ulttechcenter
	ProvidesPrerequisite@epic3:
		RequiresCondition: hive_upgrade
		Prerequisite: library
	ProvidesPrerequisite@epic4:
		RequiresCondition: hive_upgrade
		Prerequisite: pfleet
	ProvidesPrerequisite@hero:
		RequiresPrerequisites: structures.kerrigan
		Prerequisite: hero.kerrigan
	Explodes@emp:
		RequiresCondition: hive_upgrade
		Type: CenterPosition
		Weapon: EMPExplosion
		EmptyWeapon: EMPExplosion
	CashTrickler@2:
		Interval: 750
		Amount: 100
		InitialDelay: 325
		RequiresCondition: hive_upgrade
		UseResourceStorage: true
	ProximityExternalCondition@creepalive:
		Condition: creepalive
		Range: 4c0
	ParatroopersPower@rebelambush:
		PauseOnCondition: disabled
		Prerequisites: zhive
		OrderName: ZergCanal
		Cursor: chrono-target
		Icon: icon
		IconImage: znydus
		ChargeInterval: 7500
		LifeTime: -1
		Name: Nydus Canal
		Description: Spawn in a surprise Nydus Canal. Spawns zerglings and hydralisks.\nAdditional zerglings will appear if \n  placed near foes.
		DropItems: NydusSpawner
		UnitType: U2.Nydus
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		DisplayRadarPing: True
		DisplayTimerRelationships: Ally, Neutral, Enemy
		EffectSequence: idle
		CameraActor: camera.paradrop
		DisplayBeacon: false
		UseDirectionalTarget: false
	ProduceActorPower@devouringone:
		Name: Spawn Devouring Ones
		Description: Spawn a group of an advanced strain of Zergling.\n  Speed: 134\n  Strong vs infantry, Structures
		Icon: icon
		IconImage: zdevouring
		PauseOnCondition: disabled
		RequiresCondition: !spawn_wait
		Prerequisites: ~zhive
		Actors: zdevouring,zdevouring,zdevouring,zdevouring,zdevouring,zdevouring,zdevouring,zdevouring,zdevouring,zdevouring,zdevouring,zdevouring
		Type: SpecialUnit
		ChargeInterval: 3750
		EndChargeTextNotification: actor-zhatchery.produceactorpower-devouringone-end-charge-text-notification
		ReadyAudio: ReinforcementsArrived
		ReadyTextNotification: actor-zhatchery.produceactorpower-devouringone-ready-text-notification
		BlockedAudio: NoBuild
		BlockedTextNotification: actor-zhatchery.produceactorpower-devouringone-blocked-text-notification
		OrderName: SpawnDevouringOne
	Production@specialunit:
		Produces: SpecialUnit
		RequiresCondition: hive_upgrade
	GrantConditionOnProduction@specialunit:
		Condition: spawn_wait
		Duration: 250
		Actors: zdevouring
	WithBuildingBib:
		Palette: player

ZergLairComplete:
	Inherits: SmallZergBuildingComplete
	Explodes:
		Weapon: MediumZergBuildingSpawn_Lair
		EmptyWeapon: MediumZergBuildingSpawn_Lair

ZergHiveComplete:
	Inherits: SmallZergBuildingComplete
	Explodes:
		Weapon: LargeZergBuildingSpawn_Hive
		EmptyWeapon: LargeZergBuildingSpawn_Hive

ZLAIR.up:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 3000
	Tooltip:
		Name: actor-zlair-up.name
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 1000
		Prerequisites: zhatchery, zchamber, ~structures.zerg, ~techlevel.high, ~free_hatchery
		Description: actor-zlair-up.description
		Icon: icon-lair
		IconPalette: player-icon
		IconPaletteIsPlayerPalette: true
	Plug:
		Type: zlair
	Building:
		BuildSounds: zbldgplc.aud
	RenderSprites:
		Image: zhatchery
	SequencePlaceBuildingPreview:
		Sequence: lair-idle

ZHIVE.up:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 6000
	Tooltip:
		Name: actor-zhive-up.name
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 1001
		BuildDuration: 4500
		Prerequisites: zlair, znest, ~structures.zerg, ~techlevel.unrestricted, ~!ulttechcenter
		Description: actor-zhive-up.description
		Icon: icon-hive
		IconPalette: player-icon
		IconPaletteIsPlayerPalette: true
	Plug:
		Type: zhive
	Building:
		BuildSounds: zbldgplc.aud
	RenderSprites:
		Image: zhatchery
	SequencePlaceBuildingPreview:
		Sequence: hive-idle

ZLAIR:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-zlair-name

ZHIVE:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-zhive-name

ZCCOLONY:
	Inherits: ^ZergBuilding
	Inherits@shape: ^2x2Shape
	Inherits@selection: ^SelectableCombatBuilding
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@japanbuffs_buildings: ^japanbuffs_buildings
	RenderRangeCircle:
	RenderSprites:
		Image: zccolony
	Selectable:
		Class: ZCCOLONY
	Building:
		Footprint: xx ++
		Dimensions: 2,2
	ProximityExternalCondition:
		Condition: pylon
		Range: 7c0
	GivesBuildableArea:
		AreaTypes: building, fake, pylon
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 100
		Prerequisites: ~structures.zerg, ~techlevel.infonly, ~zerg.easybuild
		Description: actor-zccolony.description
	Health:
		HP: 40000
	Armor:
		Type: Wood
		RequiresCondition: !waiting_to_evolve
	Armor@2:
		Type: Heavy
		RequiresCondition: waiting_to_evolve
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
		RequiresCondition: !waiting_to_evolve
	RevealsShroud@GAPGEN:
		Range: 4c0
	RevealsShroud@defense:
		MinRange: 6c0
		Range: 7c0
		RevealGeneratedShroud: False
		RequiresCondition: waiting_to_evolve
	Valued:
		Cost: 500
	Tooltip:
		Name: actor-zccolony.name
		RequiresCondition: !waiting_to_evolve
	Tooltip@1:
		Name: actor-zccolony.sunken
		RequiresCondition: str_sunken
	Tooltip@2:
		Name: actor-zccolony.spore
		RequiresCondition: str_spore
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
		RequiresCondition: !waiting_to_evolve
	WithDeathAnimation@1:
		DeathSequence: sunken-dead
		UseDeathTypeSuffix: false
		RequiresCondition: str_sunken
	WithDeathAnimation@2:
		DeathSequence: spore-dead
		UseDeathTypeSuffix: false
		RequiresCondition: str_spore
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood1
		Offset: 1100,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood3
		Offset: 512,700,0
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood4
		Offset: -256,0,0
	Explodes:
		Type: CenterPosition
		Weapon: SmallZergBuildingExplode
		EmptyWeapon: SmallZergBuildingExplode
	FreeActor:
		Actor: CreepSpawnerMedium
		SpawnOffset: 0,0
		RequiresCondition: !build-incomplete
	FreeActor@2:
		Actor: CreepSpawnerMedium
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete
	FreeActor@effect_complete:
		Actor: SmallZergBuildingComplete
		SpawnOffset: 1,0
		RequiresCondition: !build-incomplete
	ProductionBar@zergstructure:
		ProductionType: Building.ZergColony
		RequiresCondition: !waiting_to_evolve
	Production@zergstructure:
		Produces: Building.ZergColony
		RequiresCondition: !waiting_to_evolve
	ProductionQueue@zergstructure:
		Type: Building.ZergColony
		Group: Building
		DisplayOrder: 2
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		QueueLimit: 1
	GrantConditionOnProduction@waiting_to_evolve:
		Condition: waiting_to_evolve
	GrantConditionOnProduction@sunken:
		Condition: str_sunken
		Actors: ZE.SUNKEN
	GrantConditionOnProduction@spore:
		Condition: str_spore
		Actors: ZE.SPORE
	GrantConditionOnProduction@animating:
		Condition: animating
		Duration: 110
	Targetable@defense:
		RequiresCondition: waiting_to_evolve
		TargetTypes: Defense
	AutoTarget:
		RequiresCondition: waiting_to_evolve
	WithIdleOverlay@main:
		Sequence: idle2
		RequiresCondition: !build-incomplete && !waiting_to_evolve
	WithSpriteBody@sunken:
		RequiresCondition: str_sunken
		StartSequence: sunken-make
		Sequence: sunken-turret
	WithSpriteBody@spore:
		RequiresCondition: str_spore
		StartSequence: sunken-make
		Sequence: spore-idle
	WithIdleOverlay@sunken_shadow:
		RequiresCondition: str_sunken && !animating
		Sequence: sunken-shadow
		IsPlayerPalette: true
		Palette: player
	WithSpriteTurret@sunken:
		RequiresCondition: str_sunken && !animating
		Sequence: sunken-turret
		Recoils: false
	WithTurretAttackAnimation@sunken:
		RequiresCondition: str_sunken && !animating
		Sequence: sunken-attack
	Turreted@sunken:
		RequiresCondition: str_sunken && !animating
	AttackTurreted:
		Turrets: primary, secondary
		FacingTolerance: 128
	Armament@sunken:
		RequiresCondition: str_sunken && !animating
		Weapon: SunkenAttack
		LocalOffset: 0,0,512
		PauseOnCondition: disabled
	Armament@spore:
		Name: secondary
		Turret: secondary
		RequiresCondition: str_spore && !animating
		Weapon: SporeAttack
		PauseOnCondition: disabled
	AmbientSound@evolved:
		SoundFiles: zchrdy00.aud
		RequiresCondition: waiting_to_evolve && !animating
		Interval: -1
	FreeActor@evolve_complete:
		Actor: ZergColonyComplete
		SpawnOffset: 1,0
		RequiresCondition: waiting_to_evolve
	DetectCloaked:
		DetectionTypes: Cloak
		Range: 6c0
		RequiresCondition: str_spore && !disabled
	Turreted@spore:
		RequiresCondition: str_spore && !animating
		Turret: secondary
		Offset: 0,-800,1200
	DamageMultiplier@evolved:
		Modifier: 60
		RequiresCondition: waiting_to_evolve
	ProximityExternalCondition@creepalive:
		Condition: creepalive
		Range: 2c0
	WithColoredOverlay@IDISABLE:
		RequiresCondition: disabled && waiting_to_evolve
		Color: 000000B4

# Buildable version granted by an upgrade
ZCCOLONY2:
	Inherits: ZCCOLONY
	Building:
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 90
		Prerequisites: ~structures.zerg, ~techlevel.unrestricted, zerg.spawning, ~zhive, !zerg.easybuild
		BuildDuration: 1000
	RequiresBuildableArea:
		Adjacent: 4

ZCCOLONY.bot:
	Inherits: ZCCOLONY
	Buildable:
		Prerequisites: ~structures.zerg, ~techlevel.infonly, ~ai.all
	RenderSprites:
		Image: zccolony

ZE.SUNKEN:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: actor-ze-sunken.name
	Buildable:
		Queue: Building.ZergColony
		BuildAtProductionType: Building.ZergColony
		Description: actor-ze-sunken.description
		Prerequisites: barracks, ~techlevel.infonly, ~zccolony
		IconPalette: player-icon
		IconPaletteIsPlayerPalette: true
	Valued:
		Cost: 400
	RenderSprites:
		Image: zsunken

ZE.SPORE:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: actor-ze-spore.name
	Buildable:
		Queue: Building.ZergColony
		BuildAtProductionType: Building.ZergColony
		Description: actor-ze-spore.description
		Prerequisites: barracks, ~techlevel.infonly, ~zccolony
		IconPalette: player-icon
		IconPaletteIsPlayerPalette: true
	Valued:
		Cost: 400
	RenderSprites:
		Image: zspore

ZergColonyComplete:
	Inherits: SmallZergBuildingComplete
	Explodes:
		Weapon: SmallZergBuildingSpawn_Delayed
		EmptyWeapon: SmallZergBuildingSpawn_Delayed

ZEXTRAC:
	Inherits: ^ZergBuilding
	Inherits@ref: ^Refinery
	Inherits@shape: ^3x2Shape
	Building:
		Footprint: +++ xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 3072, 3072, 0, -426
	Buildable:
		Queue: Building
		BuildPaletteOrder: 101
		Prerequisites: ~structures.zerg, ~techlevel.infonly, ~zerg.easybuild, ~!ai.boss
		Description: actor-zextrac.description
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Refinery:
	StoresPlayerResources:
		Capacity: 2000
	Valued:
		Cost: 800
	Tooltip:
		Name: actor-zextrac.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: refinery
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood1
		Offset: 1500,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood3
		Offset: 512,700,0
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood4
		Offset: -1256,0,0
	InfiltrateForCash:
		Percentage: 50
		Types: SpyInfiltrate, ThiefInfiltrate
		InfiltratedNotification: CreditsStolen
		Maximum: 5000
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 1,0
		RequiresCondition: !build-incomplete
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 17
		FullSequence: pip-yellow
	GrantConditionOnPrerequisite@botowner:
		Condition: botowner
		Prerequisites: ai.all, !ai.easy
	FreeActor:
		Actor: ZDRONE
		SpawnOffset: 1,0
		Facing: 256
		RequiresCondition: botowner
	FreeActor@2:
		Actor: ZDRONE
		SpawnOffset: 1,1
		Facing: 256
		RequiresCondition: botowner
	DockHost:
		Type: Unload
		DockAngle: 0
		DockOffset: 0,-512,0
		MaxQueueLength: 5

ZPOOL:
	Inherits: ^ZergBuilding
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@shape: ^2x2Shape
	Building:
		Footprint: ++ xx
		Dimensions: 2,2
	Buildable:
		Queue: Building
		BuildPaletteOrder: 102
		Prerequisites: ~structures.zerg, refinery, ~techlevel.infonly, ~zerg.easybuild, ~!ai.hard
		Description: actor-zpool.description
	Health:
		HP: 60000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 500
	Tooltip:
		Name: actor-zpool.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood1
		Offset: 1200,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood3
		Offset: 512,700,700
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood2
		Offset: -512,0,0
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, SpyInfiltrate
	Explodes:
		Type: CenterPosition
		Weapon: SmallZergBuildingExplode
		EmptyWeapon: SmallZergBuildingExplode
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -42,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	GrantExternalConditionToProduced:
		Condition: produced
	GrantExternalConditionToProduced@zergling:
		Condition: zerglingdouble
		Duration: 25
	FreeActor@effect_complete:
		Actor: SmallZergBuildingComplete
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete

ZHYDRADEN:
	Inherits: ^ZergBuilding
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@shape: ^3x2Shape
	Building:
		Footprint: +++ xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 3072, 3072, 0, -426
	Buildable:
		Queue: Building
		BuildPaletteOrder: 103
		Prerequisites: zpool, refinery, ~structures.zerg, ~techlevel.infonly, ~zerg.easybuild
		Description: actor-zhydraden.description
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 1200
	Tooltip:
		Name: actor-zhydraden.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood2
		Offset: 1200,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood1
		Offset: 512,700,700
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood3
		Offset: 0,-512,-256
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, SpyInfiltrate
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -42,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Production:
		Produces: Infantry, Soldier
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Infantry
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete

ZCHAMBER:
	Inherits: ^ZergScienceBuilding
	Inherits@tech: ^TechCenter
	Inherits@shape: ^3x2Shape
	Building:
		Footprint: =x= xx= XXX
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 3072, 3072, 0, -426
	Buildable:
		Queue: Building
		BuildPaletteOrder: 104
		BuildDuration: 2000
		Prerequisites: zhydraden, ~structures.zerg, ~techlevel.high, ~zerg.easybuild
		Description: actor-zchamber.description
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 2000
	-Power:
	Tooltip:
		Name: actor-zchamber.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood2
		Offset: 1200,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood1
		Offset: 512,900,700
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood3
		Offset: 0,-1024,-256
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete

ZSPIRE:
	Inherits: ^ZergBuilding
	Inherits@prereqs: ^AircraftPrereqs
	Inherits@shape: ^2x2Shape
	Building:
		Footprint: ++ xx
		Dimensions: 2,2
	Buildable:
		Queue: Building
		BuildPaletteOrder: 105
		BuildDuration: 2000
		Prerequisites: ~structures.zerg, techcenter, ~techlevel.high, ~zerg.easybuild
		Description: actor-zspire.description
		BuildLimit: 2
	Health:
		HP: 110000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 1500
	Tooltip:
		Name: actor-zspire.name
		RequiresCondition: !spire_upgrade
	Tooltip@2:
		Name: actor-zspire.2--name
		RequiresCondition: spire_upgrade
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
		RequiresCondition: !spire_upgrade
	WithDeathAnimation@2:
		DeathSequence: dead
		UseDeathTypeSuffix: false
		RequiresCondition: spire_upgrade
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite@spire:
		RequiresCondition: spire_upgrade
		Prerequisite: zgspire
	ProvidesPrerequisite@spire2:
		RequiresCondition: !spire_upgrade
		Prerequisite: zspire.up
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood1
		Offset: 450,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood3
		Offset: 0,700,1224
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood2
		Offset: -512,0,350
	WithIdleOverlay@main:
		Sequence: idle2
		RequiresCondition: !build-incomplete && !spire_upgrade
	WithSpriteBody@spire:
		RequiresCondition: spire_upgrade
		StartSequence: greater-make
		Sequence: greater-idle
	Explodes:
		Type: CenterPosition
		Weapon: SmallZergBuildingExplode
		EmptyWeapon: SmallZergBuildingExplode
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-256,512
		ExitCell: 0,0
		Facing: 896
	Production:
		Produces: Aircraft, Helicopter
	CommandBarBlacklist:
		DisableStop: false
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Aircraft
	GrantExternalConditionToProduced@scourge:
		Condition: scourgedouble
		Duration: 25
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, SpyInfiltrate
	InfiltrateForSupportPower:
		Proxy: aircraft.upgraded
		Types: SpyInfiltrate
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 1,0
		RequiresCondition: !build-incomplete
	Pluggable@1:
		Offset: 0,0
		Conditions:
			zgspire: spire_upgrade
		Requirements:
			zgspire: !build-incomplete && !spire_upgrade
		EditorOptions:
			zgspire: Greater Spire
	FreeActor@2:
		Actor: ZergLairComplete
		SpawnOffset: 1,-1
		RequiresCondition: spire_upgrade
	DamageMultiplier@spire:
		Modifier: 75
		RequiresCondition: spire_upgrade
	Reservable:
	ProximityExternalCondition:
		Condition: reloadnear
		Range: 4c0
	ProximityExternalCondition@spots:
		Condition: nearby_spire
		Range: 2c0
	FreeActor@aispot1:
		Actor: ZSPIRE.spot
		SpawnOffset: 1,1
		RequiresCondition: bot_med || bot_hard || bot_boss
	FreeActor@aispot2:
		Actor: ZSPIRE.spot
		SpawnOffset: 0,1
		RequiresCondition: bot_med || bot_hard || bot_boss
	FreeActor@aispot3:
		Actor: ZSPIRE.spot
		SpawnOffset: 1,0
		RequiresCondition: bot_med || bot_hard || bot_boss

ZSPIRE.spot:
	Inherits: ^Building
	-WithMakeAnimation:
	Reservable:
	RenderSprites:
		Image: usaairstriplandingspot
	Health:
		HP: 10000
	KillsSelf:
		RequiresCondition: !nearby_spire
		Delay: 25
	ExternalCondition@spire:
		Condition: nearby_spire
	RallyPoint:
	Exit:
		SpawnOffset: 0,-256,512
		ExitCell: 0,0
		Facing: 896

ZGSPIRE.up:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-zgspire-up.name
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 1002
		BuildDuration: 4500
		Prerequisites: zlair, ~zspire.up, ~structures.zerg, ~techlevel.unrestricted
		Description: actor-zgspire-up.description
		Icon: icon-gspire
		IconPalette: player-icon
		IconPaletteIsPlayerPalette: true
	Plug:
		Type: zgspire
	Building:
		BuildSounds: zbldgplc.aud
	RenderSprites:
		Image: zspire
	SequencePlaceBuildingPreview:
		Sequence: greater-idle

ZGSPIRE:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: actor-zgspire-name

ZNEST:
	Inherits: ^ZergScienceBuilding
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@shape: ^2x2Shape
	Building:
		Footprint: ++ xx
		Dimensions: 2,2
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 199
		BuildDuration: 2500
		Prerequisites: advtechcenter, zspire, ~structures.zerg, ~techlevel.high, ~zerg.easybuild
		Description: actor-znest.description
		BuildLimit: 1
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 6c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	Valued:
		Cost: 2000
	Tooltip:
		Name: actor-znest.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood2
		Offset: 1700,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood1
		Offset: 512,900,900
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood3
		Offset: -800,-1024,-256
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 0,1
		RequiresCondition: !build-incomplete

ZMSLO:
	Inherits: ^ZergBuilding
	Inherits@IDISABLE: ^DisableOnLowPowerOrPowerDown
	Inherits@shape: ^2x1Shape
	Selectable:
		Bounds: 2048, 1024
	Valued:
		Cost: 2500
	Tooltip:
		Name: actor-zmslo.name
	Buildable:
		Queue: Tech
		Icon: icon-zerg
		BuildPaletteOrder: 200
		Prerequisites: ~structures.zerg, advtechcenter, ~techlevel.unrestricted
		BuildLimit: 1
		Description: actor-zmslo.description
	Building:
		Footprint: xx
		Dimensions: 2,1
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RequiresCondition: !disabled
		RevealGeneratedShroud: False
	RevealsShroud@Offline:
		Range: 5c0
		RequiresCondition: disabled
	RevealsShroud@GAPGEN:
		Range: 5c0
		RequiresCondition: !disabled
	Explodes@bomb:
		Type: CenterPosition
		Weapon: MiniNuke
		EmptyWeapon: MiniNuke
	Explodes@plague:
		Type: CenterPosition
		Weapon: DefilerPlague
		EmptyWeapon: DefilerPlague
	NukePower:
		PauseOnCondition: disabled
		OrderName: ZergAtom
		Cursor: nuke
		Icon: znuke
		ChargeInterval: 19500
		Name: Plague Bomb
		Description: Launches a devastating atomic bomb\nat a target location, inflicting plague\n and corrosion.
		BeginChargeSpeechNotification: AbombPrepping
		EndChargeSpeechNotification: AbombReady
		SelectTargetSpeechNotification: SelectTarget
		InsufficientPowerSpeechNotification: InsufficientPower
		IncomingSpeechNotification: AbombLaunchDetected
		SelectTargetTextNotification: actor-zmslo.nukepower-select-target-text-notification
		InsufficientPowerTextNotification: actor-zmslo.nukepower-insufficient-power-text-notification
		BeginChargeTextNotification: actor-zmslo.nukepower-begin-charge-text-notification
		EndChargeTextNotification: actor-zmslo.nukepower-end-charge-text-notification
		IncomingTextNotification: actor-zmslo.nukepower-incoming-text-notification
		MissileWeapon: PlagueAtomic
		MissileImage: atomic.nod3
		MissileDelay: 5
		SpawnOffset: 1c0,427,0
		DisplayTimerRelationships: Ally, Neutral, Enemy
		DisplayBeacon: True
		DisplayRadarPing: True
		BeaconPoster: chem
		CameraRange: 10c0
		ArrowSequence: arrow
		ClockSequence: clock
		CircleSequence: circles
		SupportPowerPaletteOrder: 70
		CameraRemoveDelay: 150
	SupportPowerChargeBar:
	InfiltrateForSupportPowerReset:
		Types: SpyInfiltrate
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, SpyInfiltrate
	Power:
		Amount: -100
	MustBeDestroyed:
		RequiredForShortGame: false
	WithSupportPowerActivationAnimation:
		RequiresCondition: !build-incomplete
	RenderSprites:
		Image: mslo
	WithIdleOverlay:
		RequiresCondition: !build-incomplete
		Image: zmslo
		Sequence: idle
		IsPlayerPalette: true
		Palette: player
	FreeActor@effect_complete:
		Actor: SmallZergBuildingComplete
		SpawnOffset: 0,0
		RequiresCondition: !build-incomplete
	ProvidesPrerequisite@self:
	ProvidesPrerequisite@superweapon:
		Prerequisite: superweapon

ZMOUND:
	Inherits: ^ZergScienceBuilding
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@shape: ^3x2Shape
	Building:
		Footprint: ++x xxx
		Dimensions: 3,2
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 202
		BuildDuration: 2500
		Prerequisites: ulttechcenter, zpool, ~structures.zerg, ~techlevel.high, ~zerg.easybuild, ~!structures.kerrigan
		Description: actor-zmound.description
		BuildLimit: 1
	Health:
		HP: 120000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 6c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	Valued:
		Cost: 1800
	Tooltip:
		Name: actor-zmound.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood2
		Offset: 1500,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood1
		Offset: 512,900,700
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood3
		Offset: -1500,-1024,-256
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 0,1
		RequiresCondition: !build-incomplete

ZULTRADEN:
	Inherits: ^ZergScienceBuilding
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@shape: ^3x2Shape
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 3072, 3072, 0, -426
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 201
		BuildDuration: 2500
		Prerequisites: ulttechcenter, zpool, ~structures.zerg, ~techlevel.unrestricted, ~zerg.easybuild
		Description: actor-zultraden.description
		BuildLimit: 1
	Health:
		HP: 120000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 2000
	Tooltip:
		Name: actor-zultraden.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood2
		Offset: 1200,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood1
		Offset: 512,900,700
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood3
		Offset: 0,-1024,-256
	FreeActor@effect_complete:
		Actor: MediumZergBuildingComplete
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete

ZNYDUS:
	Inherits@def: ^Defense
	Inherits: ^ZergBuilding
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@shape: ^2x2Shape
	Inherits@AUTOTARGET: ^AutoTargetAll
	-Building:
	Selectable:
		Bounds: 2048, 2048
	Building:
		Footprint: xx xx
		Dimensions: 2,2
		TerrainTypes: Creep,Road,Clear
		RequiresBaseProvider: false
	Buildable:
		Queue: Wall
		BuildPaletteOrder: 450
		Prerequisites: ~structures.zerg, ulttechcenter, ~techlevel.unrestricted, ~ai.all
		BuildLimit: 2
	Health:
		HP: 120000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 1000
	Tooltip:
		Name: actor-znydus-name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood1
		Offset: 1200,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood3
		Offset: 512,700,700
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood2
		Offset: -512,0,0
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, Defense, SpyInfiltrate
	Explodes:
		Type: CenterPosition
		Weapon: SmallZergBuildingExplode
		EmptyWeapon: SmallZergBuildingExplode
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 512,512,0
		ExitCell: 0,0
		ProductionTypes: Soldier, Infantry, Hatchery
	GrantExternalConditionToProduced:
		Condition: produced
	GrantExternalConditionToProduced@zergling:
		Condition: zerglingdouble
		Duration: 25
	FreeActor@effect_complete:
		Actor: SmallZergBuildingComplete
		SpawnOffset: 1,1
		RequiresCondition: !build-incomplete
	Production@inf:
		RequiresCondition: botowner
		Produces: Hatchery,Infantry
	GrantConditionOnProduction@busy:
		Condition: busy
		Duration: 25
		ShowSelectionBar: false
	ProductionQueue@infantry:
		Type: Infantry
		DisplayOrder: 0
		Group: Infantry
		LowPowerModifier: 300
		BuildDurationModifier: 100
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	FreeActor@1:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: -1,0
	FreeActor@2:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: -1,0
	FreeActor@3:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: -1,1
	FreeActor@4:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: -1,1
	FreeActor@5:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: 0,2
	FreeActor@6:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: 0,2
	FreeActor@7:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: 1,2
	FreeActor@8:
		Actor: ZZERGLING
		RequiresCondition: !build-incomplete
		SpawnOffset: 1,2
	FreeActor@9:
		Actor: ZHYDRA
		RequiresCondition: !build-incomplete
		SpawnOffset: 2,1
	FreeActor@10:
		Actor: ZHYDRA
		RequiresCondition: !build-incomplete
		SpawnOffset: 2,0
	FreeActor@11:
		Actor: ZHYDRA
		RequiresCondition: !build-incomplete
		SpawnOffset: 2,2
	FreeActor@13:
		Actor: ZZERGLING
		AllowRespawn: true
		SpawnOffset: 0,1
		RequiresCondition: produceunit && !build-incomplete
	AutoTarget:
		InitialStance: AttackAnything
	AttackOmni:
		PauseOnCondition: !ammo
		RequiresCondition: botowner
	Armament:
		Weapon: NydusSpawn
		PauseOnCondition: !ammo
		RequiresCondition: !build-incomplete
		ForceTargetRelationships: None
	ExternalCondition@ambushhole:
		Condition: produceunit
	ProximityExternalCondition:
		Condition: wander
		Range: 2c0
	AmmoPool:
		Ammo: 10
		AmmoCondition: ammo
	ReloadAmmoPool@normal:
		RequiresCondition: !attacking
		Delay: 500
	GrantConditionOnAttack@reload:
		Condition: attacking
		RevokeDelay: 250
	Explodes@removecreep:
		Weapon: CreepRemoveBig
		EmptyWeapon: CreepRemoveBig
	AmbientSound@still:
		SoundFiles: znywht00.aud
		Interval: 250, 500
		Delay: 75
	AmbientSound@busy:
		SoundFiles: zovtra00.aud,zovtra01.aud
		Interval: -1
		Delay: 0
		RequiresCondition: busy
	ProximityExternalCondition@2:
		Condition: creepgen
		Range: 7c0
		ValidRelationships: Neutral, Ally, Enemy
	KillsSelf@player:
		Delay: 7500
		RequiresCondition: !botowner
	RallyPoint:
		Path: 0,3
	TeleportNetworkPrimaryExit:
	TeleportNetwork:
		Type: Teleport
	WithDecoration@primary:
		RequiresCondition: primary
		Position: Top
		Margin: 0, 4
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
	ProximityExternalCondition@nydusalive:
		Condition: nydus_alive
		Range: 1c0

ZNYDUS.Entry:
	Inherits@def: ^Defense
	Inherits: ^ZergBuilding
	Inherits@shape: ^1x1Shape
	-Selectable:
	-SelectionDecorations:
	Interactable:
		Bounds: 64,64
	RenderSprites:
		Image: znydus
	Building:
		Footprint: xxx x_x x_x
		Dimensions: 3,3
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 202
		Prerequisites: ~structures.zerg, ulttechcenter, ~techlevel.unrestricted, ~zerg.easybuild
		Description: actor-znydus-entry.description
		BuildLimit: 1
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 1000
	Tooltip:
		Name: actor-znydus-entry.name
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	Explodes:
		Type: CenterPosition
		Weapon: SmallZergBuildingExplode
		EmptyWeapon: SmallZergBuildingExplode
	FreeActor@Teleport:
		Actor: nydus.teleport
		SpawnOffset: 1,1
	FreeActor@Teleport2:
		Actor: nydus.wall
		SpawnOffset: 1,2
		RequiresCondition: nydus_wall
		AllowRespawn: true
	ProximityExternalCondition@nydusalive:
		Condition: nydus_alive
		Range: 2c0
	GrantPeriodicCondition:
		Condition: nydus_wall
		CooldownDuration: 12
		ActiveDuration: 13
	KillsSelf@nydusalive:
		RequiresCondition: !nydus_alive
		Delay: 1
	ExternalCondition@nydus_alive:
		Condition: nydus_alive
	-RenderRangeCircle:
	DamageMultiplier:
		Modifier: 1

NYDUS.Teleport:
	Inherits: ^ZergBuilding
	Inherits@shape: ^2x2Shape
	WithSpriteBody:
	Selectable:
		Bounds: 2048, 2048
	WithMakeAnimation:
	-Explodes:
	-Sellable:
	RenderSprites:
		Image: ZNYDUS
	Tooltip:
		Name: actor-nydus-teleport-name
	Valued:
		Cost: 0
	Health:
		HP: 80000
	KillsSelf@nydusalive:
		RequiresCondition: !nydus_alive
		Delay: 1
		RemoveInstead: true
	ExternalCondition@nydus_alive:
		Condition: nydus_alive
	ProximityExternalCondition@nydusalive:
		Condition: nydus_alive
		Range: 2c0
	WithIdleOverlay@damage:
		RequiresCondition: damaged
		Sequence: blood1
		Offset: 1200,-512,0
	WithIdleOverlay@damage2:
		RequiresCondition: damaged2
		Sequence: blood3
		Offset: 512,700,700
	WithIdleOverlay@damage3:
		RequiresCondition: damaged3
		Sequence: blood2
		Offset: -512,0,0
	RallyPoint:
		Path: 0,3
	TeleportNetworkPrimaryExit:
	TeleportNetwork:
		Type: Teleport
	Exit@1:
		ExitCell: 0,0
	WithDecoration@primary:
		RequiresCondition: primary
		Position: Top
		Margin: 0, 4
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
	FreeActor@effect_complete:
		Actor: SmallZergBuildingComplete
		SpawnOffset: 0,0
		RequiresCondition: !build-incomplete

NYDUS.Wall:
	Inherits: MINE_DUMMY
	-Immobile:
	Building:
		Footprint: x
	KillsSelf@nydusalive:
		Delay: 13
		RemoveInstead: true