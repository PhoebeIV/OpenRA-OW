
ZDRONE:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableEconomicUnit
	Inherits@creep: ^ZergUnit
	Buildable:
		Queue: Building
		BuildPaletteOrder: 45
		Prerequisites: ~structures.zerg, ~techlevel.infonly
		Description: Collects resources and can also\n evolve into Zerg structures.\nSpeed: 96\n  Unarmed
	Valued:
		Cost: 500
	Tooltip:
		Name: Zerg Drone
		GenericName: Zerg Drone
	Selectable:
		DecorationBounds: 1365, 1365
	Harvester:
		Capacity: 8
		Resources: Ore,Gems,Tiberium,BlueTiberium
		BaleUnloadDelay: 1
		BaleUnloadAmount: 10
		SearchFromProcRadius: 15
		SearchFromHarvesterRadius: 8
		EmptyCondition: no-ore
	Selectable:
		Class: ZDRONE
	Health:
		HP: 35000
	Armor:
		Type: Light
	Mobile:
		Speed: 96
		Locomotor: foot2
		TurnSpeed: 90
	RevealsShroud:
		Range: 4c0
	WithHarvestAnimation:
		HarvestSequence: shoot
	WithDockingAnimation:
		DockSequence: run
		DockLoopSequence: run
	WithMoveAnimation:
		MoveSequence: run
	WithDeathAnimation:
		DeathSequence: die
		UseDeathTypeSuffix: true
		DeathTypes: 
			DefaultDeath: 1
			FireDeath: 1
			TiberiumDeath: 1
			ExplosionDeath: 1
			ElectricityDeath: 1
			BulletDeath: 1
			SmallExplosionDeath: 1
	DeathSounds:
		DeathTypes: DefaultDeath, FireDeath, TiberiumDeath, ExplosionDeath, ElectricityDeath, BulletDeath, SmallExplosionDeath
	GpsDot:
		String: Harvester
	-Explodes:
	WithFacingSpriteBody:
	WithHarvesterPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 4
		ResourceSequences:
			Ore: pip-yellow
			Gems: pip-red
			Tiberium: pip-green
			BlueTiberium: pip-blue
	RepairsBridges:
	CaptureManager:
	Captures:
		CaptureTypes: building
		PlayerExperience: 25
		CaptureDelay: 200
		SabotageThreshold: 50
		SabotageHPRemoval: 60
	Infiltrates:
		Types: Husk
		ValidRelationships: Ally
		EnterCursor: goldwrench
		PlayerExperience: 25
	Captures@husk:
		CaptureTypes: husk
		PlayerExperience: 25
		CaptureDelay: 100
		EnterCursor: goldwrench
		ConsumedByCapture: true
	ProvidesPrerequisite@self:
	RenderSprites:
		Image: zdrone
	Voiced:
		VoiceSet: ZergDroneVoice
	ActorLostNotification:
		RequiresCondition: !waiting_to_evolve
	GrantConditionOnProduction@waiting_to_evolve:
		Condition: waiting_to_evolve
	WithDecoration@waiting_to_evolve:
		Image: zdrone
		RequiresCondition: waiting_to_evolve
		Sequence: evolve
		Offset: 0,768,768
		Palette: player
		IsPlayerPalette: true
		Position: Top
	ProductionBar@zergstructure:
		ProductionType: Building.Zerg
		RequiresCondition: !waiting_to_evolve
	Production@zergstructure:
		Produces: Building.Zerg
		RequiresCondition: !waiting_to_evolve
	ProductionQueue@zergstructure:
		Type: Building.Zerg
		Group: Building
		DisplayOrder: 2
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		QueueLimit: 1
	GrantConditionOnProduction@hatchery:
		Condition: str_hatchery
		Actors: ZE.HATCHERY, ZE.HATCHERY2
	Transforms:
		IntoActor: zhatchery
		TransformSounds: zbldgplc.aud
		Facing: -256
		Offset: -1,0
		RequiresCondition: str_hatchery
	GrantConditionOnProduction@colony:
		Condition: str_colony
		Actors: ZE.COLONY
	KillsSelf@colony:
		RequiresCondition: str_colony || str_extrac
		DamageTypes: no_sound
		Delay: 10
	SpawnActorOnDeath@colony:
		Actor: ZDRONE.colony
		RequiresCondition: str_colony
	GrantConditionOnProduction@extrac:
		Condition: str_extrac
		Actors: ZE.EXTRAC
	SpawnActorOnDeath@extrac:
		Actor: ZDRONE.extrac
		RequiresCondition: str_extrac


ZDRONE.colony:
	Inherits@drone: ZDRONE
	-Buildable:
	Tooltip:
		Name: Drone (Evolving: Creep Colony)
	GrantCondition:
		Condition: waiting_to_evolve
	-Transforms:
	Transforms:
		IntoActor: zccolony
		TransformSounds: zbldgplc.aud
		Offset: -1,0
		Facing: -256

ZDRONE.extrac:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Extractor)
	Transforms:
		IntoActor: zextrac
		TransformSounds: zbldgplc.aud
		Offset: -1,0
		Facing: -256

^ZergEvolve:
	Buildable:
		Queue: Building.Zerg
		BuildDurationModifier: 60
		BuildAtProductionType: Building.Zerg
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	KillsSelf:
		RemoveInstead: true

ZE.HATCHERY:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Hatchery
	Buildable:
		Description: Zerg's baseline structure. \n\nSpreads creep and doesn't need\n   to be placed on creep.
		BuildPaletteOrder: 1
		Prerequisites: ~mcv, ~techlevel.medium, ~zdrone
	Valued:
		Cost: 5000
	RenderSprites:
		Image: zhatchery

ZE.HATCHERY2:
	Inherits: ZE.HATCHERY
	Buildable:
		Prerequisites: ~!mcv, ~techlevel.medium, ~zdrone
	Valued:
		Cost: 3000

ZE.COLONY:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Creep Colony
	Buildable:
		Description: Spreads creep, can be evolved into \n defensive structures. \n\nMust be placed on creep.
		Prerequisites: ~techlevel.infonly, ~zdrone
		BuildDuration: 300
	Valued:
		Cost: 50
	RenderSprites:
		Image: zccolony

ZE.EXTRAC:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Extractor
		Description: Refines and stores resources. \n\nMust be placed on creep.
		Prerequisites: ~techlevel.infonly, ~zdrone
		BuildDuration: 1000
	Valued:
		Cost: 300
	RenderSprites:
		Image: zextrac
