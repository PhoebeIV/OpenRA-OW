
ZDRONE:
	Inherits: ^Vehicle
	Inherits@selection: ^SelectableEconomicUnit
	Inherits@creep: ^ZergUnit
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: ~structures.zerg, ~techlevel.infonly
		Description: Collects resources and can also\n evolve into Zerg structures.\nSpeed: 96\n  Unarmed
	Valued:
		Cost: 500
	Tooltip:
		Name: Drone
		GenericName: Zerg Drone
		RequiresCondition: !str_hatchery
	Tooltip@1:
		Name: Drone (Evolving: Hatchery)
		RequiresCondition: str_hatchery
	Selectable:
		DecorationBounds: 1365, 1365
	Harvester:
		Capacity: 8
		Resources: Ore,Gems,Tiberium,BlueTiberium
		BaleUnloadDelay: 1
		BaleUnloadAmount: 10
		SearchFromProcRadius: 15
		SearchFromHarvesterRadius: 8
		EmptyCondition: no-ore
	Selectable:
		Class: ZDRONE
	Health:
		HP: 35000
	Armor:
		Type: Light
	Mobile:
		Speed: 96
		Locomotor: foot2
		TurnSpeed: 90
	Power:
		Amount: -5
	RevealsShroud:
		Range: 4c0
	WithHarvestAnimation:
		HarvestSequence: shoot
	WithDockingAnimation:
		DockSequence: run
		DockLoopSequence: run
	WithMoveAnimation:
		MoveSequence: run
	WithDeathAnimation:
		DeathSequence: die
		UseDeathTypeSuffix: true
		DeathTypes: 
			DefaultDeath: 1
			FireDeath: 1
			TiberiumDeath: 1
			ExplosionDeath: 1
			ElectricityDeath: 1
			BulletDeath: 1
			SmallExplosionDeath: 1
	DeathSounds:
		DeathTypes: DefaultDeath, FireDeath, TiberiumDeath, ExplosionDeath, ElectricityDeath, BulletDeath, SmallExplosionDeath
	GpsDot:
		String: Harvester
	-Explodes:
	WithFacingSpriteBody:
	WithHarvesterPipsDecoration:
		Position: BottomLeft
		Margin: 4, 3
		RequiresSelection: true
		PipCount: 4
		ResourceSequences:
			Ore: pip-yellow
			Gems: pip-red
			Tiberium: pip-green
			BlueTiberium: pip-blue
	RepairsBridges:
	CaptureManager:
	Captures:
		CaptureTypes: building
		PlayerExperience: 25
		CaptureDelay: 200
		SabotageThreshold: 50
		SabotageHPRemoval: 60
	Infiltrates:
		Types: Husk
		ValidRelationships: Ally
		EnterCursor: goldwrench
		PlayerExperience: 25
	Captures@husk:
		CaptureTypes: husk
		PlayerExperience: 25
		CaptureDelay: 100
		EnterCursor: goldwrench
		ConsumedByCapture: true
	ProvidesPrerequisite@self:
	RenderSprites:
		Image: zdrone
	Voiced:
		VoiceSet: ZergDroneVoice
	ActorLostNotification:
		RequiresCondition: !waiting_to_evolve
	GrantConditionOnProduction@waiting_to_evolve:
		Condition: waiting_to_evolve
	WithDecoration@waiting_to_evolve:
		Image: zdrone
		RequiresCondition: waiting_to_evolve
		Sequence: evolve
		Offset: 0,768,768
		Palette: player
		IsPlayerPalette: true
		Position: Top
	ProductionBar@zergstructure:
		ProductionType: Building.Zerg
		RequiresCondition: !waiting_to_evolve
	Production@zergstructure:
		Produces: Building.Zerg
		RequiresCondition: !waiting_to_evolve
	ProductionQueue@zergstructure:
		Type: Building.Zerg
		Group: Building
		DisplayOrder: 2
		ReadyAudio: ConstructionComplete
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
		QueueLimit: 1
	GrantConditionOnProduction@hatchery:
		Condition: str_hatchery
		Actors: ZE.HATCHERY, ZE.HATCHERY2
	Transforms:
		IntoActor: zhatchery
		TransformSounds: zbldgplc.aud
		Facing: -256
		Offset: -1,-1
		RequiresCondition: str_hatchery
	GrantConditionOnProduction@colony:
		Condition: str_colony
		Actors: ZE.COLONY
	KillsSelf@colony:
		RequiresCondition: str_colony || str_extrac || str_pool || str_hydra || str_chamber || str_ultraden || str_spire || str_nest || str_mound
		DamageTypes: no_sound
		Delay: 10
	SpawnActorOnDeath@colony:
		Actor: ZDRONE.colony
		RequiresCondition: str_colony
	GrantConditionOnProduction@extrac:
		Condition: str_extrac
		Actors: ZE.EXTRAC
	SpawnActorOnDeath@extrac:
		Actor: ZDRONE.extrac
		RequiresCondition: str_extrac
	GrantConditionOnProduction@pool:
		Condition: str_pool
		Actors: ZE.POOL
	SpawnActorOnDeath@pool:
		Actor: ZDRONE.pool
		RequiresCondition: str_pool
	GrantConditionOnProduction@hydra:
		Condition: str_hydra
		Actors: ZE.HYDRA
	SpawnActorOnDeath@hydra:
		Actor: ZDRONE.hydra
		RequiresCondition: str_hydra
	GrantConditionOnProduction@chamber:
		Condition: str_chamber
		Actors: ZE.CHAMBER
	SpawnActorOnDeath@chamber:
		Actor: ZDRONE.chamber
		RequiresCondition: str_chamber
	GrantConditionOnProduction@ultraden:
		Condition: str_ultraden
		Actors: ZE.ULTRADEN
	SpawnActorOnDeath@ultraden:
		Actor: ZDRONE.ultraden
		RequiresCondition: str_ultraden
	GrantConditionOnProduction@spire:
		Condition: str_spire
		Actors: ZE.SPIRE
	SpawnActorOnDeath@spire:
		Actor: ZDRONE.spire
		RequiresCondition: str_spire
	GrantConditionOnProduction@nest:
		Condition: str_nest
		Actors: ZE.NEST
	SpawnActorOnDeath@nest:
		Actor: ZDRONE.nest
		RequiresCondition: str_nest
	GrantConditionOnProduction@mound:
		Condition: str_mound
		Actors: ZE.MOUND
	SpawnActorOnDeath@mound:
		Actor: ZDRONE.mound
		RequiresCondition: str_mound

ZDRONE.colony:
	Inherits@drone: ZDRONE
	-Buildable:
	Tooltip:
		Name: Drone (Evolving: Creep Colony)
	GrantCondition:
		Condition: waiting_to_evolve
	-Transforms:
	Transforms:
		IntoActor: zccolony
		TransformSounds: zbldgplc.aud
		Offset: 0,0
		Facing: -256

ZDRONE.extrac:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Extractor)
	Transforms:
		IntoActor: zextrac
		TransformSounds: zbldgplc.aud
		Offset: -1,0

ZDRONE.pool:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Spawning Pool)
	GrantCondition:
		Condition: waiting_to_evolve
	Transforms:
		IntoActor: zpool
		TransformSounds: zbldgplc.aud
		Offset: 0,0

ZDRONE.hydra:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Hydralisk Den)
	Transforms:
		IntoActor: zhydraden
		TransformSounds: zbldgplc.aud
		Offset: -1,0

ZDRONE.chamber:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Evolution Chamber)
	Transforms:
		IntoActor: zchamber
		TransformSounds: zbldgplc.aud
		Offset: -1,0

ZDRONE.ultraden:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Ultralisk Cavern)
	Transforms:
		IntoActor: zultraden
		TransformSounds: zbldgplc.aud
		Offset: -1,0

ZDRONE.spire:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Spire)
	Transforms:
		IntoActor: zspire
		TransformSounds: zbldgplc.aud
		Offset: 0,0

ZDRONE.nest:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Queen's Nest)
	Transforms:
		IntoActor: znest
		TransformSounds: zbldgplc.aud
		Offset: 0,0

ZDRONE.mound:
	Inherits@drone: ZDRONE.colony
	Tooltip:
		Name: Drone (Evolving: Defiler Mound)
	Transforms:
		IntoActor: zmound
		TransformSounds: zbldgplc.aud
		Offset: -1,0

^ZergEvolve:
	Buildable:
		Queue: Building.Zerg
		BuildDurationModifier: 60
		BuildAtProductionType: Building.Zerg
		IconPalette: player
		IconPaletteIsPlayerPalette: true
	AlwaysVisible:
	Interactable:
	ScriptTriggers:
	KillsSelf:
		RemoveInstead: true

ZE.HATCHERY:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Hatchery
	Buildable:
		Description: Zerg's baseline structure. \n\nSpreads creep and doesn't need\n   to be placed on creep.
		BuildPaletteOrder: 1
		BuildDuration: 4000
		Prerequisites: ~mcv, ~techlevel.medium, ~zdrone
	Valued:
		Cost: 3000
	RenderSprites:
		Image: zhatchery

ZE.HATCHERY2:
	Inherits: ZE.HATCHERY
	Buildable:
		Prerequisites: ~!mcv, ~techlevel.medium, ~zdrone
	Valued:
		Cost: 3000

ZE.COLONY:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Creep Colony
	Buildable:
		Description: Spreads creep, can be evolved into \n defensive structures. \n\nMust be placed on creep.
		BuildPaletteOrder: 2
		Prerequisites: ~techlevel.infonly, ~zdrone
		BuildDuration: 300
	Valued:
		Cost: 10
	RenderSprites:
		Image: zccolony

ZE.EXTRAC:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Extractor
	Buildable:
		Description: Refines and stores resources. \n\nMust be placed on creep.
		BuildPaletteOrder: 3
		Prerequisites: ~techlevel.infonly, ~zdrone
		BuildDuration: 1000
	Valued:
		Cost: 300
	RenderSprites:
		Image: zextrac

ZE.POOL:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Spawning Pool
	Buildable:
		Description: Allows production of Zerglings at\n a Hatchery. \n\nMust be placed on creep.
		BuildPaletteOrder: 4
		Prerequisites: zccolony, ~techlevel.infonly, ~zdrone
		BuildDuration: 500
	Valued:
		Cost: 10
	RenderSprites:
		Image: zpool

ZE.HYDRA:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Hydralisk Den
	Buildable:
		Description: Allows production of Hydralisks at\n a Hatchery. \n\nMust be placed on creep.
		BuildPaletteOrder: 5
		Prerequisites: zpool, ~techlevel.infonly, ~zdrone
		BuildDuration: 1000
	Valued:
		Cost: 500
	RenderSprites:
		Image: zhydraden

ZE.CHAMBER:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Evolution Chamber
	Buildable:
		Description: Provides access to Zerg-specific upgrades\n and ability to evolve your Hatchery. \n\nMust be placed on creep.
		BuildPaletteOrder: 6
		Prerequisites: zhydraden, ~techlevel.high, ~zdrone
		BuildDuration: 2000
	Valued:
		Cost: 1500
	RenderSprites:
		Image: zchamber

ZE.ULTRADEN:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Ultralisk Cavern
	Buildable:
		Description: Allows production of Ultralisks at \n a Hatchery. \n\nMust be placed on creep.
		BuildPaletteOrder: 9
		Prerequisites: ulttechcenter, ~techlevel.unrestricted, ~zdrone
		BuildDuration: 2500
	Valued:
		Cost: 2000
	RenderSprites:
		Image: zultraden

ZE.SPIRE:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Spire
	Buildable:
		Description: Allows production of basic air units\n at a Spire. \n\nMust be placed on creep.
		BuildPaletteOrder: 7
		Prerequisites: techcenter, ~techlevel.high, ~zdrone
		BuildDuration: 2000
	Valued:
		Cost: 1500
	RenderSprites:
		Image: zspire

ZE.NEST:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Queen's Nest
	Buildable:
		Description: Allows production of a Queen\n at a Spire. \n\nMust be placed on creep.
		BuildPaletteOrder: 8
		Prerequisites: advtechcenter, zspire, ~techlevel.high, ~zdrone
		BuildDuration: 2000
	Valued:
		Cost: 1500
	RenderSprites:
		Image: znest

ZE.MOUND:
	Inherits: ^ZergEvolve
	Tooltip:
		Name: Evolve into Defiler Mound
	Buildable:
		Description: Allows production of Defilers\n at a Hatchery. \n\nMust be placed on creep.
		BuildPaletteOrder: 8
		Prerequisites: ulttechcenter, ~techlevel.unrestricted, ~zdrone
		BuildDuration: 1800
	Valued:
		Cost: 1300
	RenderSprites:
		Image: zmound
