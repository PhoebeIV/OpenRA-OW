^hordebonus:
	ExternalCondition@hordebonus:
		Condition: hordebonus
		RequiresCondition: !upgradeinfantrygeneral
	ProximityExternalCondition@hordebonus:
		Condition: hordebonus
		Range: 2c0
		RequiresCondition: !upgradeinfantrygeneral
	ReloadDelayMultiplier@hordebonus:
		RequiresCondition: hordebonus >= 10 && !upgradeinfantrygeneral
		Modifier: 90
	WithIdleOverlay@hordebonus:
		Image: hordebonus-overlay
		Sequence: infantry
		Palette: effect
		RequiresCondition: hordebonus >= 10 && !upgradeinfantrygeneral
		IsDecoration: True
	ExternalCondition@hordebonusupgrade1:
		Condition: hordebonusupgrade1
		RequiresCondition: upgradeinfantrygeneral && !upgradepatriotism
	ProximityExternalCondition@hordebonusupgrade1:
		Condition: hordebonusupgrade1
		Range: 2c0
		RequiresCondition: upgradeinfantrygeneral && !upgradepatriotism
	ReloadDelayMultiplier@hordebonusupgrade1:
		RequiresCondition: hordebonusupgrade1 >= 10 && upgradeinfantrygeneral
		Modifier: 80
	WithIdleOverlay@hordebonusupgrade1:
		Image: hordebonus-overlay
		Sequence: infantryupgrade1
		Palette: effect
		RequiresCondition: hordebonusupgrade1 >= 10 && upgradeinfantrygeneral
		IsDecoration: True
	ExternalCondition@hordebonusupgrade2:
		Condition: hordebonusupgrade2
		RequiresCondition: upgradepatriotism
	ProximityExternalCondition@hordebonusupgrade2:
		Condition: hordebonusupgrade2
		Range: 2c0
		RequiresCondition: upgradepatriotism
	ReloadDelayMultiplier@hordebonusupgrade2:
		RequiresCondition: hordebonusupgrade2 >= 10
		Modifier: 70
	WithIdleOverlay@hordebonusupgrade2:
		Image: hordebonus-overlay
		Sequence: infantryupgrade2
		Palette: effect
		RequiresCondition: hordebonusupgrade2 >= 10
		IsDecoration: True
    GrantConditionOnPrerequisite@hordebonusupgrade1:
        Condition: upgradeinfantrygeneral
        Prerequisites: upgrade.infantrygeneral
    GrantConditionOnPrerequisite@hordebonusupgrade2:
        Condition: upgradepatriotism
        Prerequisites: upgrade.patriotism

^infantrygeneralbuff:
	ProductionCostMultiplier@infantrygeneralbuff:
		Multiplier: 90
		Prerequisites: upgrade.infantrygeneral
	ProductionTimeMultiplier@infantrygeneralbuff:
		Multiplier: 90
		Prerequisites: upgrade.infantrygeneral

^infantrytrainingbuff:
	ProducibleWithLevel@infantrytrainingbufflvl1:
		Prerequisites: upgrade.infantrytraininglvl1, !upgrade.infantrytraininglvl2
		InitialLevels: 1
	ProducibleWithLevel@infantrytrainingbufflvl2:
		Prerequisites: upgrade.infantrytraininglvl1, upgrade.infantrytraininglvl2 
		InitialLevels: 2

chinaredguard:
	Inherits: ^Soldier
	Inherits@hordebonus: ^hordebonus
	Inherits@infantrygeneralbuff: ^infantrygeneralbuff
	Inherits@infantrytrainingbuff: ^infantrytrainingbuff
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 5
		Prerequisites: ~infantry.china
		Description: US Ranger, equipped with M16A2 assault rifles\nand flash grenades.\nSpeed: 62\n  Strong vs Infantry\n  Weak vs Vehicles, Aircraft
	Tooltip:
		Name: Red Guard
	Tooltip@hordebonus:
		Name: Red Guard (Nationalism)
        RequiresCondition: hordebonus >= 10
	Valued:
		Cost: 450
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 13000
	Armament@PRIMARY:
		Weapon: redguardshot
	Armament@GARRISONED:
		Name: garrisoned
		Weapon: redguardshotgarrison
		MuzzleSequence: garrison-muzzle
	Armament@BUS:
		Name: bus
		Weapon: redguardshotgarrison
		MuzzleSequence: garrison-muzzle
        PauseOnCondition: upgradelasergeneral
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: !parachute
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	RevealsShroud:
		Range: 5c0
	Selectable:
		Bounds: 768, 853, 0, -256
		DecorationBounds: 640, 896, 0, -426
		Class: redguard
	FreeActor@extraredguard:
		Actor: chinaredguard2
		SpawnOffset: 0,-1
	RenderSprites:
		Image: chinaredguard
		PlayerPalette: dawn
	Voiced:
		VoiceSet: RedGuardVoice


chinaredguard2:
	Inherits: chinaredguard
	Selectable:
		Bounds: 768, 853, 0, -256
		DecorationBounds: 640, 896, 0, -426
		Class: redguard
	-FreeActor@extraredguard:
	-Buildable:

chinatankhunter:
	Inherits: ^Soldier
	Inherits@hordebonus: ^hordebonus
	Inherits@infantrygeneralbuff: ^infantrygeneralbuff
	Inherits@infantrytrainingbuff: ^infantrytrainingbuff
	Inherits@AUTOTARGET: ^AutoTargetAllAssaultMove
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 6
		Prerequisites: ~infantry.china
		Description: US Missile Defender, equipped with an MK 153 SMAW\nCan be upgraded with a laser targeting system\nimproving range and fire rate.\n  Strong vs Vehicles, Aircraft\n  Weak vs Infantry
	Tooltip:
		Name: Tank Hunter
	Tooltip@hordebonus:
		Name: Tank Hunter (Nationalism)
        RequiresCondition: hordebonus >= 10
	Valued:
		Cost: 400
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 8000
	Armament@PRIMARY:
		Weapon: tankhuntershot
        LocalOffset: 0,0,555
	Armament@Secondary:
		Weapon: tankhuntershotair
        LocalOffset: 0,0,555
	Armament@GARRISONED:
		Name: garrisoned
		Weapon: tankhuntershotgarrison
		MuzzleSequence: garrison-muzzle
	Armament@BUS:
		Name: bus
		Weapon: tankhuntershotgarrison
		MuzzleSequence: garrison-muzzle
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: !parachute
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	RevealsShroud:
		Range: 5c0
	Selectable:
		Bounds: 768, 853, 0, -256
		DecorationBounds: 640, 896, 0, -426
	RenderSprites:
		Image: chinatankhunter
	Voiced:
		VoiceSet: TankHunterVoice

chinaminigunner:
	Inherits: ^Soldier
	Inherits@hordebonus: ^hordebonus
	Inherits@infantrygeneralbuff: ^infantrygeneralbuff
	Inherits@infantrytrainingbuff: ^infantrytrainingbuff
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 10
		Prerequisites: ~infantry.china, techcenter, upgrade.infantrygeneral
		Description: US Ranger, equipped with M16A2 assault rifles\nand flash grenades.\nSpeed: 62\n  Strong vs Infantry\n  Weak vs Vehicles, Aircraft
	Tooltip:
		Name: Minigunner
	Tooltip@hordebonus:
		Name: Minigunner (Nationalism)
        RequiresCondition: hordebonus >= 10
	Valued:
		Cost: 600
	UpdatesPlayerStatistics:
		AddToArmyValue: true
	Health:
		HP: 16000
	Armament@PRIMARY:
		Weapon: minigunnershot
	Armament@SECONDARY:
		Weapon: minigunnershotair
	Armament@GARRISONED:
		Name: garrisoned
		Weapon: minigunnershot
		MuzzleSequence: garrison-muzzle
	Armament@BUS:
		Name: bus
		Weapon: minigunnershot
		MuzzleSequence: garrison-muzzle
        PauseOnCondition: upgradelasergeneral
	GrantConditionOnAttack@gatling:
		Condition: gatling
		RequiredShotsPerInstance: 4
		MaximumInstances: 2
		RevokeDelay: 25
		RevokeAll: true
		IsCyclic: false
	ReloadDelayMultiplier@Gatling1:
		RequiresCondition: gatling >= 1
		Modifier: 60
	ReloadDelayMultiplier@Gatling2:
		RequiresCondition: gatling >= 2
		Modifier: 60
	WithInfantryBody:
		DefaultAttackSequence: shoot
		RequiresCondition: !parachute
	WithInfantryBody@PARACHUTE:
		StandSequences: parachute
		RequiresCondition: parachute
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	RevealsShroud:
		Range: 5c0
	Selectable:
		Bounds: 768, 853, 0, -256
		DecorationBounds: 640, 896, 0, -426
	RenderSprites:
		Image: chinaminigunner
		PlayerPalette: dawn
	Voiced:
		VoiceSet: MinigunnerVoice

chinahacker:
	Inherits: ^Soldier
	Inherits@infantrytrainingbuff: ^infantrytrainingbuff
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 7
		Prerequisites: ~infantry.china, techcenter, chinainternetcenter, ~!upgrade.infantrygeneral
		Description: hacking the internet dry
		BuildLimit: 25
	Valued:
		Cost: 900
	Tooltip:
		Name: Hacker
	Health:
		HP: 5000
	Selectable:
		Class: hacker
	Mobile:
		Voice: Move
		PauseOnCondition: !(!deployed)
	Passenger:
		CargoType: ChinaHacker
		PipType: Yellow
		Voice: Move
		CargoConditions:
			chinainternetcenter: ininternetcenter
	Armament@Anim:
		Weapon: chinahackeranim
		LocalOffset: 0,0,196
		RequiresCondition: enddisable == 0 && !deployed
	Armament@End:
		Weapon: chinahackerend
		LocalOffset: 0,0,196
		RequiresCondition: enddisable == 1 && !deployed
	GrantConditionOnAttack@End:
		Condition: enddisable
		RequiredShotsPerInstance: 13
		MaximumInstances: 2
		RevokeDelay: 20
		RevokeAll: true
		IsCyclic: false
	AttackFrontal:
		RequiresCondition: !deployed
	GrantConditionOnDeploy:
		DeployedCondition: deployed
		Facing: 128
	WithInfantryBody:
		DefaultAttackSequence: hack
		RequiresCondition: !deployed
	WithSpriteBody@DEPLOYED:
		Sequence: hack
		RequiresCondition: deployed
	CashTrickler@RANK-0:
		Interval: 50
		Amount: 5
		RequiresCondition: deployed
	CashTrickler@RANK-0-INTERNET:
		Interval: 45
		Amount: 5
		RequiresCondition: ininternetcenter
	ExperienceTrickler@RANK-0:
		Interval: 50
		Amount: 1
		RequiresCondition: (deployed || ininternetcenter)
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	Voiced:
		VoiceSet: HackerVoice
	-MustBeDestroyed:

chinasuperhacker:
	Inherits: chinahacker
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 7
		Prerequisites: ~infantry.china, ~techcenter, ~chinainternetcenter, ~upgrade.infantrygeneral
		Description: hacking the internet dry
		BuildLimit: 25
	Tooltip:
		Name: Super Hacker
	CashTrickler@RANK-0:
		Interval: 25
		Amount: 5
		RequiresCondition: deployed
	CashTrickler@RANK-0-INTERNET:
		Interval: 20
		Amount: 5
		RequiresCondition: ininternetcenter
	ExperienceTrickler@RANK-0:
		Interval: 25
		Amount: 1
		RequiresCondition: (deployed || ininternetcenter)

chinablacklotus:
	Inherits: ^Soldier
	Inherits@infantrytrainingbuff: ^infantrytrainingbuff
	Buildable:
		Queue: Infantry
		BuildAtProductionType: Soldier
		BuildPaletteOrder: 9
		Prerequisites: ~infantry.china, techcenter
		Description: hacking the internet dry
		BuildLimit: 1
	Valued:
		Cost: 1500
	Tooltip:
		Name: Black Lotus
	Health:
		HP: 20000
	Mobile:
		Voice: Move
		PauseOnCondition: !(!deployed)
	Armament@Anim:
		Weapon: chinablacklotusanim
		LocalOffset: 0,0,196
		RequiresCondition: enddisable == 0 && !deployed
	Armament@End:
		Weapon: chinablacklotusend
		LocalOffset: 0,0,196
		RequiresCondition: enddisable == 1 && !deployed
	GrantConditionOnAttack@End:
		Condition: enddisable
		RequiredShotsPerInstance: 13
		MaximumInstances: 2
		RevokeDelay: 20
		RevokeAll: true
		IsCyclic: false
	AttackFrontal:
		RequiresCondition: !deployed
	WithInfantryBody:
		DefaultAttackSequence: hack
		RequiresCondition: !deployed
	WithSpriteBody@DEPLOYED:
		Sequence: hack
		RequiresCondition: deployed
	ProducibleWithLevel:
		Prerequisites: barracks.upgraded
	Voiced:
		VoiceSet: LotusVoice
	Cloak:
		InitialDelay: 10
		CloakDelay: 30
		UncloakOn: Attack, Unload, Infiltrate, Demolish
		CloakTypes: Cloak
		IsPlayerPalette: true
		RequiresCondition: !cloak-force-disabled
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	CaptureManager:
	Captures:
		CaptureTypes: Structure, Vehicle, Tank, building
		ConsumedByCapture: False
		PlayerExperience: 10
		CaptureDelay: 200
	-MustBeDestroyed:
