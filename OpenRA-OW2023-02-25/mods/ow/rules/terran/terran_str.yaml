^TerranBuilding:
	Health:
		HP: 10000
	Buildable:
		Queue: Bot
		Prerequisites: ~disabled
		IconPalette: player-icon
		IconPaletteIsPlayerPalette: true
	GrantConditionOnDamageState@fire1:
		Condition: damaged_light
		ValidDamageStates: Medium, Heavy, Critical
	GrantConditionOnDamageState@fire2:
		Condition: damaged_heavy
		ValidDamageStates: Heavy, Critical
	GrantConditionOnDamageState@fire3:
		Condition: damaged_critical
		ValidDamageStates: Critical
	WithIdleOverlay@fire1:
		RequiresCondition: damaged_light
		Image: fire
		Sequence: 4
		IsDecoration: true
		Offset: 0,-1024,512
		Palette: effect
	WithIdleOverlay@fire2:
		RequiresCondition: damaged_heavy
		Image: fire
		Sequence: 3
		IsDecoration: true
		Offset: 0,1024,768
		Palette: effect
	WithIdleOverlay@fire3:
		RequiresCondition: damaged_critical
		Image: fire
		Sequence: 2
		IsDecoration: true
		Offset: 0,0,512
		Palette: effect
	RepairableBuilding:
		RepairCondition: player_repairing
	ChangesHealth@fire:
		Step: -350
		StartIfBelow: 26
		Delay: 25
		RequiresCondition: !player_repairing && !defiler_plague
	ExternalCondition@roomforaddon:
		Condition: room_for_addon
	ProductionTimeMultiplier@bot:
		Prerequisites: ai.hard
		Multiplier: 75
		Queue: Building

^TerranAddonSpaceReserver:
	Inherits: ^SpriteActor
	Inherits@1: ^ExistsInWorld
	Inherits@shape: ^2x2Shape
	Inherits@BIB: ^2xBuildingBib
	RenderSprites:
		Image: tbunker
	HiddenUnderShroud:
	RequiresSpecificOwners:
		ValidOwnerNames: Neutral
	HitShape:
		UseTargetableCellsOffsets: false
	Targetable:
		TargetTypes: UpgradeThing, Ground
	Building:
		Footprint: ++ ++
		Dimensions: 2,2
	Health:
		HP: 5000
	KillsSelf:
		RequiresCondition: !cc_near
		Delay: 12
		RemoveInstead: true
	KillsSelf@remover:
		RequiresCondition: kill_addon && !occupying_space
		RemoveInstead: true
	DamageMultiplier:
		Modifier: 0
	ExternalCondition@remover:
		Condition: kill_addon
	ExternalCondition@remover2:
		Condition: occupying_space
	ProximityExternalCondition@roomforaddon:
		Condition: room_for_addon
		Range: 3c0
	WithIdleOverlay@bibtemp:
		Image: bib3compiled_terran
	WithIdleOverlay@bibsnow:
		Image: bib3compiled_terran
	WithIdleOverlay@bibdes:
		Image: bib3compiled_terran

#for falling airborne buildings
^TerranBuildingHusk:
	Inherits: ^PlaneHusk
	-WithFacingSpriteBody:
	WithIdleOverlay@fire1:
		Image: fire
		Sequence: 4
		IsDecoration: true
		Offset: 0,-1024,512
	WithIdleOverlay@fire2:
		Image: fire
		Sequence: 3
		IsDecoration: true
		Offset: 0,1024,768
	WithIdleOverlay@fire3:
		Image: fire
		Sequence: 2
		IsDecoration: true
		Offset: 0,0,512
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		Type: GroundPosition
	WithSpriteBody:
		Sequence: idle-air
	FallsToEarth:
		Explosion: TerranBuildingExplode
		Velocity: 43
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ShakeOnDeath:

TCOMMAND:
	Inherits: ^Building
	Inherits@fire: ^TerranBuilding
	Inherits@con: ^ConYard
	Inherits@prereqs: ^ConYardPrereqs
	Inherits@BIB: ^4xBuildingBib
	HitShape:
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Selectable:
		Bounds: 4096, 3072
		Class: TCOMMAND
	-Building:
	D2kBuilding:
		Footprint: =xx= xxxx xxxx
		Dimensions: 4,3
		TerrainTypes: Clear,Road
		RequiresBaseProvider: True
		BuildSounds: placbldg.aud, build5.aud
		UndeploySounds: cashturn.aud
		LocalCenterOffset: 0,0,0
		ConcreteTemplate: 1024
		ConcretePrerequisites: techlevel.pavement
	Buildable:
		Queue: Building
		BuildPaletteOrder: 1000
		Prerequisites: factory, ~structures.terran, ~techlevel.medium, ~!ai.all
		Description: Produces structures.
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 4000
	Tooltip:
		Name: Command Center
	BaseBuilding:
	RallyPoint:
		ForceSetType: SCV
	Transforms:
		PauseOnCondition: chrono-vortex || being-captured || being-demolished || build-incomplete
		IntoActor: tcommand.air
		Offset: 1,1
		Facing: 0
		NoTransformNotification: BuildingCannotPlaceAudio
	TransformsIntoMobile:
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	Sellable:
		RequiresCondition: !build-incomplete && !chrono-vortex && !being-captured && !being-demolished
	BaseProvider:
		PauseOnCondition: being-captured
		Range: 16c0
	WithBuildingPlacedAnimation:
		RequiresCondition: !build-incomplete && !chrono-vortex
	Power:
		Amount: 0
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	FreeActor@addoncaptor:
		Actor: TCOMMAND.addoncaptor
		SpawnOffset: 4,1
	ProximityExternalCondition@ccnear:
		Condition: cc_near
		Range: 3c512
	WithProductionOverlay:
		RequiresCondition: !build-incomplete
		Palette: player
		IsPlayerPalette: true
	ExternalCondition@cc_addon_exists:
		Condition: cc_addon_exists
	Pluggable@1:
		Offset: 1,2
		Conditions:
			tcomsat.plug: spawn_comsat
			tsilo.plug: spawn_silo
		Requirements:
			tcomsat.plug: !build-incomplete && !cc_addon_exists && room_for_addon
			tsilo.plug: !build-incomplete && !cc_addon_exists && room_for_addon
		EditorOptions:
			tcomsat.plug: ComSat Station
			tsilo.plug: Missile Silo
	FreeActor@1:
		Actor: TCOMSAT
		SpawnOffset: 4,2
		RequiresCondition: spawn_comsat
		AllowRespawn: true
	FreeActor@2:
		Actor: TSILO
		SpawnOffset: 4,2
		RequiresCondition: spawn_silo
		AllowRespawn: true
	ProvidesPrerequisite@pluggable:
		RequiresCondition: !build-incomplete && !cc_addon_exists && room_for_addon
		Prerequisite: tcommand.addon

TCOMMAND.addon:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Command Center with no addon

TCOMMAND.landed:
	Inherits: TCOMMAND
	-Buildable:
	RenderSprites:
		Image: tcommand
	WithMakeAnimation:
		Sequence: land

TCOMMAND.air:
	Inherits: ^FlyingBuilding
	Inherits@fire: ^TerranBuilding
	Inherits@prereqs: ^ConYardPrereqs
	RenderSprites:
		Image: tcommand
	Buildable:
		Queue: Aircraft
		BuildAtProductionType: Helicopter
		BuildPaletteOrder: 1000
		Prerequisites: ~!mcv, ~aircraft.terran, ~techlevel.medium
		Description: Produces structures.
	ProvidesPrerequisite@mcv:
		Prerequisite: mcv
	HitShape:
		TargetableOffsets: 0,0,0, 0,-512,256, 0,-1451,384, 0,512,128, 0,1536,85
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Selectable:
		Bounds: 4096, 3072, 512, 0
	Transforms:
		IntoActor: tcommand.landed
		Offset: -1,-1
	Health:
		HP: 150000
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: GroundPosition
	RevealsShroud@GAPGEN:
		Range: 5c0
		Type: GroundPosition
	BaseBuilding:
	Valued:
		Cost: 2500
	Tooltip:
		Name: Command Center
	SpawnActorOnDeath:
		Actor: tcommand.husk
	GrantConditionOnPrerequisite@DUMBASS_AI:
		Prerequisites: ai.all
		Condition: replace_me
	FreeActor@bot:
		RequiresCondition: replace_me
		Actor: tcommand
		SpawnOffset: -1,-1
	KillsSelf@bot:
		RequiresCondition: replace_me
		RemoveInstead: true
		Delay: 50

TCOMMAND.air2:
	Inherits: TCOMMAND.air
	Buildable:
		Queue: Aircraft
		BuildAtProductionType: Helicopter
		BuildPaletteOrder: 1000
		Prerequisites: ~mcv, ~aircraft.terran, ~techlevel.medium, tctrl
	Valued:
		Cost: 4000


TCOMMAND.addoncaptor:
	Inherits: ^TerranAddonSpaceReserver
	ExternalCondition@addon:
		Condition: cc_near
	KillsSelf:
		RequiresCondition: !cc_near
	ProximityExternalCondition@addon:
		Condition: cc_addon
		Range: 1c0
	ProximityExternalCondition@roomforaddon:
		Range: 4c0

TCOMMAND.Husk:
	Inherits: ^TerranBuildingHusk
	Tooltip:
		Name: Command Center
	RenderSprites:
		Image: tcommand

TSUPPLY:
	Inherits: ^PowerPlant
	Inherits@2: ^TerranBuilding
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^2x2Shape
	Inherits@BIB: ^2xBuildingBib
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~techlevel.infonly, ~structures.terran, ~!ai.powerout
		Description: Provides power for other structures.
	Valued:
		Cost: 300
	Tooltip:
		Name: Supply Depot
	ProvidesPrerequisite@buildingname:
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 40000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	Power:
		Amount: 100
	ScalePowerWithHealth:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	-Pluggable@1:
	Pluggable@1:
		Offset: 0,0
		Conditions:
			tsupply.up: power_upgrade
		Requirements:
			tsupply.up: !build-incomplete && !power_upgrade && !estoniabuff
		EditorOptions:
			tsupply.up: Power Boosted
	WithIdleOverlay@fans:
		RequiresCondition: !build-incomplete && !power_upgrade && !estoniabuff
		Sequence: idle-fan1
		PauseOnCondition: lowpower2
	WithIdleOverlay@fans2:
		RequiresCondition: power_upgrade || estoniabuff
		Sequence: idle-fan2
		PauseOnCondition: lowpower2
	PowerMultiplier@powrup:
		Modifier: 200
	DamageMultiplier@powrup:
		Modifier: 60
	WithIdleOverlay@fire1:
		Offset: 0,-512,0
	WithIdleOverlay@fire2:
		Offset: 0,512,256
	WithIdleOverlay@fire3:
		Offset: 0,0,512
	ProvidesPrerequisite@pluggable:
		RequiresCondition: !build-incomplete && !power_upgrade
		Prerequisite: tsupply.socket
	StoresPlayerResources:
		RequiresCondition: power_upgrade
		Capacity: 500

TSUPPLY.socket:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Supply Depot (unupgraded)

TSUPPLY.up:
	Inherits: ^BuildingPlug
	Valued:
		Cost: 400
	Tooltip:
		Name: Boost Supply Output
	Buildable:
		Queue: Wall
		BuildPaletteOrder: 102
		Prerequisites: tsupply.socket, ~structures.terran, ~techlevel.medium
		Description: Place onto a friendly supply depot/n to increase power output by 100%.
		Icon: icon-powr
		BuildDuration: 800
	Plug:
		Type: tsupply.up
	RenderSprites:
		Image: oregen
	SequencePlaceBuildingPreview:
		Sequence: idle

TREFINERY:
	Inherits: ^Building
	Inherits@2: ^TerranBuilding
	Inherits@shape: ^3x2Shape
	Inherits@BIB: ^3xBuildingBib
	Buildable:
		Queue: Building
		BuildPaletteOrder: 15
		Prerequisites: anypower, ~techlevel.infonly, ~structures.terran, ~!ai.boss
		Description: Refines Ore, Tiberium and Gems\ninto credits.
	Valued:
		Cost: 1400
	Tooltip:
		Name: Refinery
	Building:
		Footprint: xxx =xx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Selectable:
		Bounds: 3072, 3072
	SelectionDecorations:
	Targetable:
		TargetTypes: GroundActor, Structure, C4, DetonateAttack, ThiefInfiltrate, SpyInfiltrate
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Refinery:
	StoresPlayerResources:
		Capacity: 2000
	DrawLineToTarget:
	CustomSellValue:
		Value: 300
	FreeActor:
		Actor: TSCV
		SpawnOffset: 0,2
		Facing: 256
	FreeActor@2:
		Actor: TSCV
		SpawnOffset: 1,2
		Facing: 1024
	InfiltrateForCash:
		Percentage: 50
		Types: SpyInfiltrate, ThiefInfiltrate
		InfiltratedNotification: CreditsStolen
		Maximum: 5000
	Power:
		Amount: -50
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	ProvidesPrerequisite:
		Prerequisite: refinery
	WithResourceStoragePipsDecoration:
		Position: BottomLeft
		RequiresSelection: true
		PipCount: 17
		FullSequence: pip-yellow
	WithIdleOverlay@fire1:
		Offset: 0,-600,-128
	WithIdleOverlay@fire2:
		Offset: 0,512,256
	WithIdleOverlay@fire3:
		Offset: 0,256,512
	GrantConditionOnPrerequisite@processing:
		Prerequisites: nod.tiberium
		Condition: processing
	ResourceValueMultiplier@processing:
		RequiresCondition: processing
		Modifier: 110
	DockHost:
		Type: Unload
		DockAngle: 256
		DockOffset: -1024,1536,0

TBARR:
	Inherits: ^Building
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^3x2Shape
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@BIB: ^3xBuildingBib
	Selectable:
		Bounds: 3072, 3072
		Class: TBARR
	Buildable:
		Queue: Building
		BuildPaletteOrder: 30
		Prerequisites: anypower, ~structures.terran, ~techlevel.infonly, ~!ai.boss, ~!tbarr
		Description: Trains infantry. \nEach one has its own production queue.
	Valued:
		Cost: 800
	Tooltip:
		Name: Terran Barracks
	Building:
		Footprint: +++ xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 100000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	RallyPoint:
		ForceSetType: Infantry
	CommandBarBlacklist:
		DisableStop: false
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -170,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Production:
		Produces: Infantry, Soldier
	ProductionQueue@infantry:
		Type: Infantry
		DisplayOrder: 0
		Group: Infantry
		LowPowerModifier: 300
		BuildDurationModifier: 100
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Training
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Infantry
	Power:
		Amount: -50
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	WithProductionOverlay:
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, SpyInfiltrate
	WithIdleOverlay@fire1:
		Offset: 0,-1024,512
	WithIdleOverlay@fire2:
		Offset: 0,1024,768
	WithIdleOverlay@fire3:
		Offset: 0,0,512
	Transforms:
		PauseOnCondition: being-captured || being-demolished || build-incomplete
		IntoActor: tbarr.air
		Offset: 1,0
		Facing: 0
		NoTransformNotification: BuildingCannotPlaceAudio
	TransformsIntoMobile:
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	RenderSprites:
		Image: tbarr
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@raynor2:
		RequiresPrerequisites: structures.raynor
		Prerequisite: techlevel.hero

#the above is only temporary

TBARR.landed:
	Inherits: TBARR
	-Buildable:
	WithMakeAnimation:
		Sequence: land
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr

TBARR.1:
	Inherits: TBARR
	Buildable:
		Prerequisites: anypower, ~structures.terran, ~techlevel.infonly, ~!ai.boss, ~tbarr, ~!tbarr.1, ~!tbarr.2
	Valued:
		Cost: 1200
	Transforms:
		IntoActor: tbarr.air.1

TBARR.landed.1:
	Inherits: TBARR.landed
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr.1
	Transforms:
		IntoActor: tbarr.air.1
	Valued:
		Cost: 1200

TBARR.2:
	Inherits: TBARR
	Buildable:
		Prerequisites: techcenter, ~structures.terran, ~techlevel.high, ~!ai.boss, ~tbarr.1, ~!tbarr.2
	Valued:
		Cost: 1800
	Transforms:
		IntoActor: tbarr.air.2
	Power:
		Amount: -100
	FreeActor@bot1:
		RequiresCondition: botowner
		Actor: terran.marine

TBARR.landed.2:
	Inherits: TBARR.landed
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr.2
	Transforms:
		IntoActor: tbarr.air.2
	Valued:
		Cost: 1800
	Power:
		Amount: -100

TBARR.3:
	Inherits: TBARR
	Buildable:
		Prerequisites: advtechcenter, ~structures.terran, ~techlevel.unrestricted, ~!ai.boss, ~tbarr.2
	Valued:
		Cost: 2500
	Transforms:
		IntoActor: tbarr.air.3
	Power:
		Amount: -200

TBARR.landed.3:
	Inherits: TBARR.landed
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr.3
	Transforms:
		IntoActor: tbarr.air.3
	Valued:
		Cost: 2500
	Power:
		Amount: -200

TBARR.AI:
	Inherits: TBARR
	Buildable:
		Queue: Bot
		Prerequisites: anypower, ~structures.terran, ~techlevel.high, ~!ai.boss, ~ai.hard
		BuildLimit: 3
		Description: Bot only structure to give Hard AI a large advantage.
	Valued:
		Cost: 800
	Power:
		Amount: 0
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr.3
	ProductionQueue@infantry:
		LowPowerModifier: 200
		BuildDurationModifier: 60

TBARR.air:
	Inherits: ^FlyingBuilding
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^3x2Shape
	Inherits@prereqs: ^BarracksPrereqs
	RenderSprites:
		Image: tbarr
	Selectable:
		Bounds: 3072, 3072
		Class: TBARR.air
	Transforms:
		IntoActor: tbarr.landed
		Offset: -1,0
	Health:
		HP: 100000
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: GroundPosition
	RevealsShroud@GAPGEN:
		Range: 5c0
		Type: GroundPosition
	Valued:
		Cost: 800
	Tooltip:
		Name: Terran Barracks
	SpawnActorOnDeath:
		Actor: tbarr.husk
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr
	Power:
		Amount: -50

TBARR.air.1:
	Inherits: TBARR.air
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr.1
	Transforms:
		IntoActor: tbarr.landed.1
	Valued:
		Cost: 1200

TBARR.air.2:
	Inherits: TBARR.air
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr.2
	Transforms:
		IntoActor: tbarr.landed.2
	Valued:
		Cost: 1800
	Power:
		Amount: -100

TBARR.air.3:
	Inherits: TBARR.air
	ProvidesPrerequisite@buildingname:
		Prerequisite: tbarr.3
	Transforms:
		IntoActor: tbarr.landed.3
	Valued:
		Cost: 2500
	Power:
		Amount: -200

TBARR.Husk:
	Inherits: ^TerranBuildingHusk
	Tooltip:
		Name: Terran Barracks
	RenderSprites:
		Image: tbarr
	WithIdleOverlay@fire1:
		Offset: 0,-1024,512
	WithIdleOverlay@fire2:
		Offset: 0,1024,768
	WithIdleOverlay@fire3:
		Offset: 0,0,512

TBARR.drop:
	Inherits: TBARR.air
	-ProvidesPrerequisite@buildingname:
	-Transforms:
	-ActorLostNotification:
	Aircraft:
		TurnSpeed: 20
		Speed: 300
		CruiseAltitude: 16c0
		MaximumPitch: 110
		LandableTerrainTypes: Clear, Road, Creep, Ore, Gems, Tiberium, BlueTiberium
	LeavesTrails@1:
		Image: smokey
		MovingInterval: 2
		SpawnAtLastPosition: False
		Type: CenterPosition
		Offsets: -1024,1024,512
	LeavesTrails@2:
		Image: smokey
		MovingInterval: 2
		SpawnAtLastPosition: False
		Type: CenterPosition
		Offsets: 1024,1024,512
	LeavesTrails@3:
		Image: smokey
		MovingInterval: 2
		SpawnAtLastPosition: False
		Type: CenterPosition
		Offsets: 1024,-1024,512
	LeavesTrails@4:
		Image: smokey
		MovingInterval: 2
		SpawnAtLastPosition: False
		Type: CenterPosition
		Offsets: -1024,-1024,512
	Armament:
		Weapon: TerranGoliath
	AttackAircraft:
	AmmoPool:
		Ammo: 5
	FallsToEarth:
		Explosion: E100Cannon
		Moves: true
		Velocity: 640
		MaximumSpinSpeed: 0
	AmbientSound@airborne:
		SoundFiles: land.aud
		Interval: -1
		Delay: 5
		RequiresCondition: airborne
	SpawnActorOnDeath@1:
		Actor: TBARR.dropped
		Offset: -1,0
	ShakeOnDeath:

TBARR.dropped:
	Inherits: TBARR.landed
	Inherits@target: ^AutoTargetAll
	-ProvidesPrerequisite@buildingname:
	-Transforms:
	-UpdatesPlayerStatistics:
	-TransformsIntoMobile:
	-TransformsIntoTransforms:
	-TransferTimedExternalConditionOnTransform:
	-ActorLostNotification:
	-Explodes:
	-ShakeOnDeath:
	-SoundOnDamageTransition:
	-WithDeathAnimation:
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, Defense
	WithMakeAnimation:
		Sequence: unlift
	WithSpriteBody:
		Sequence: production-overlay
	ProductionQueue@infantry:
		LowPowerModifier: 200
		BuildDurationModifier: 40
	KillsSelf:
		Delay: 1500
	FreeActor@5:
		Actor: TMEDIC
		SpawnOffset: 1,3
	FreeActor@6:
		Actor: TMEDIC
		SpawnOffset: 0,3
	FreeActor@7:
		Actor: TMARINE
		SpawnOffset: 0,0
	FreeActor@8:
		Actor: TMARINE
		SpawnOffset: 0,1
	FreeActor@9:
		Actor: TMARINE
		SpawnOffset: 0,2
	FreeActor@10:
		Actor: TMARINE
		SpawnOffset: 1,2
	FreeActor@11:
		Actor: TMARINE
		SpawnOffset: 2,2
	FreeActor@12:
		Actor: TMARINE
		SpawnOffset: 1,2
		AllowRespawn: true
		RequiresCondition: produceunit
	AutoTarget:
		InitialStance: AttackAnything
	AttackOmni:
	Armament:
		Weapon: TerranBarracksSpawn
	ExternalCondition@ambushhole:
		Condition: produceunit
	ProximityExternalCondition:
		Condition: wander
		Range: 3c0
	ProximityExternalCondition@stimpack:
		Condition: give_stimpack
		Range: 5c0
	SpawnActorOnDeath@1:
		Actor: TBARR.leave
		Offset: 1,0

TBARR.leave:
	Inherits: TBARR.air
	-ProvidesPrerequisite@buildingname:
	-Transforms:
	-Targetable@GROUND:
	-Targetable@REPAIR:
	-UpdatesPlayerStatistics:
	RejectsOrders:
	Aircraft:
		Speed: 128
		CruiseAltitude: 16c0
		LandableTerrainTypes: Clear, Road, Creep
		IdleBehavior: LeaveMap
		CruisingCondition: remove_me
		AltitudeVelocity: 86
	KillsSelf:
		Delay: 500
		RemoveInstead: true
		RequiresCondition: remove_me

TACADAMY:
	Inherits: ^Building
	Inherits@2: ^TerranBuilding
	Inherits@shape: ^2x2Shape
	Inherits@BIB: ^2xBuildingBib
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 31
		Prerequisites: barracks, ~techlevel.infonly, ~structures.terran
		Description: Allows access to additional infantry and upgrades.
	Valued:
		Cost: 1200
	Tooltip:
		Name: Academy
	TooltipDescription:
		ValidRelationships: Ally
		Description: Move Marines or Firebats near this\n structure to give them stimpacks.
		RequiresCondition: allow_ext && !mengsk
	ProvidesPrerequisite@buildingname:
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 90000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	Power:
		Amount: -100
	WithIdleOverlay:
		Palette: player
		IsPlayerPalette: true
		RequiresCondition: !build-incomplete && take_stimpack
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	WithIdleOverlay@fire1:
		Offset: 0,-512,0
	WithIdleOverlay@fire2:
		Offset: 0,512,256
	WithIdleOverlay@fire3:
		Offset: 0,0,512
	ProximityExternalCondition@stimpack:
		RequiresCondition: allow_ext && !mengsk
		Condition: give_stimpack
		Range: 5c0
	GrantConditionOnPrerequisite@tech:
		Prerequisites: techlevel.low
		Condition: allow_ext
	ExternalCondition@stimpack:
		Condition: take_stimpack
	Voiced:
		VoiceSet: TerranAcadamyVoice
	WithRangeCircle:
		Type: Stims
		Range: 5c0
	GrantConditionOnPrerequisite@mengsk:
		Prerequisites: structures.mengsk
		Condition: mengsk

TENBAY:
	Inherits: ^Building
	Inherits@fire: ^TerranBuilding
	Inherits@pips: ^AdvTechPips
	Inherits@con: ^TechCenter
	Inherits@BIB: ^4xBuildingBib
	HitShape:
		TargetableOffsets: 0,0,0, 0,-512,256, 0,-1451,384, 0,512,128, 0,1536,85
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Selectable:
		Bounds: 4096, 3072
		Class: TENBAY
	Building:
		Footprint: =xx= xxxx ====
		Dimensions: 4,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 35
		Prerequisites: factory, radar, ~techlevel.high, ~structures.terran
		Description: Produces Terran advanced technologies.
	Health:
		HP: 120000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 1500
	Tooltip:
		Name: Technology Center
	Transforms:
		PauseOnCondition: being-captured || being-demolished || build-incomplete
		IntoActor: tenbay.air
		Offset: 1,0
		Facing: 0
		NoTransformNotification: BuildingCannotPlaceAudio
	TransformsIntoMobile:
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	Power:
		Amount: -200
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	WithIdleOverlay@fire1:
		Offset: 0,-1024,512
	WithIdleOverlay@fire2:
		Offset: 0,1024,256
	WithIdleOverlay@fire3:
		Offset: 0,0,512

TENBAY.landed:
	Inherits: TENBAY
	-Buildable:
	RenderSprites:
		Image: tenbay
	WithMakeAnimation:
		Sequence: land

TENBAY.air:
	Inherits: ^FlyingBuilding
	Inherits@fire: ^TerranBuilding
	RenderSprites:
		Image: tenbay
	HitShape:
		TargetableOffsets: 0,0,0, 0,-512,256, 0,-1451,384, 0,512,128, 0,1536,85
		Type: Rectangle
			TopLeft: -2048, -1024
			BottomRight: 2048, 1024
	Selectable:
		Bounds: 4096, 3072, 512, 0
	Transforms:
		IntoActor: tenbay.landed
		Offset: -1,0
	Health:
		HP: 150000
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: GroundPosition
	RevealsShroud@GAPGEN:
		Range: 5c0
		Type: GroundPosition
	Valued:
		Cost: 1500
	Tooltip:
		Name: Technology Center
	SpawnActorOnDeath:
		Actor: tenbay.husk
	Power:
		Amount: -200

TENBAY.Husk:
	Inherits: ^TerranBuildingHusk
	Tooltip:
		Name: Technology Center
	RenderSprites:
		Image: tenbay

TMISSILE:
	Inherits: ^Defense
	Inherits@fire: ^TerranBuilding
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@DISABLE: ^DisableOnLowPowerOrPowerDown
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 45
		Prerequisites: radar, ~structures.terran, ~techlevel.medium, ~!structures.mengsk
		Description: Anti-Armor base defense.\nCan detect cloaked units.\n  Strong vs Vehicles\n  Weak vs Infantry, Aircraft
	Valued:
		Cost: 700
	Tooltip:
		Name: Missile Turret
	Selectable:
		Bounds: 1024, 1024
		DecorationBounds: 1024, 2048, 0, -512
	Building:
	Health:
		HP: 40000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 8c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	WithBuildingBib:
		HasMinibib: true
	Turreted:
		TurnSpeed: 48
		InitialFacing: 192
		RealignDelay: -1
		RequiresCondition: !build-incomplete
	WithSpriteTurret:
		RequiresCondition: !build-incomplete && shooting
	WithIdleOverlay:
		RequiresCondition: !build-incomplete && !shooting
		PauseOnCondition: disabled
	Armament:
		Weapon: TerranNike
		LocalOffset: 384,-256,1200, 384,256,1200, 450,-256,1100, 450,256,1100, 400,-256,1000, 400,256,1000
		PauseOnCondition: disabled
	AttackTurreted:
		PauseOnCondition: build-incomplete
	Power:
		Amount: -40
	DetectCloaked:
		Range: 8c0
	GrantConditionOnAttack@shooting:
		Condition: shooting
		RevokeDelay: 100
	WithIdleOverlay@fire1:
		Offset: 0,-256,128
	WithIdleOverlay@fire2:
		Offset: 0,256,512
	WithIdleOverlay@fire3:
		Offset: 0,128,340
	-SpawnActorsOnSell@terran:

TMISSILE.Mengsk:
	Inherits: TMISSILE
	Buildable:
		Prerequisites: radar, ~structures.mengsk, ~techlevel.medium
	Tooltip:
		Name: Fortified Missile Turret
	RenderSprites:
		Image: tmissile
	WithSpriteBody:
		Sequence: idle2
	Power:
		Amount: -30
	DamageMultiplier@mengsk:
		Modifier: 75
	ReloadDelayMultiplier@mengsk:
		Modifier: 80

TFACTORY:
	Inherits: ^Building
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^3x3Shape
	Inherits@prereqs: ^FactoryPrereqs
	Inherits@BIB: ^3xBuildingBib
	Selectable:
		Bounds: 3072, 3072
		Class: TFACTORY
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 32
		Prerequisites: barracks, refinery, ~structures.terran, ~techlevel.low, ~!ai.boss
		Description: Produces vehicles.
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 2000
	Tooltip:
		Name: Terran Factory
	Transforms:
		PauseOnCondition: chrono-vortex || being-captured || being-demolished || build-incomplete
		IntoActor: tfactory.air
		Offset: 1,0
		Facing: 0
		NoTransformNotification: BuildingCannotPlaceAudio
	TransformsIntoMobile:
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	Power:
		Amount: -100
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
	FreeActor@addoncaptor:
		Actor: TFACTORY.addoncaptor
		SpawnOffset: 3,1
	WithProductionOverlay:
		RequiresCondition: !build-incomplete
		Palette: player
		IsPlayerPalette: true
	RallyPoint:
		ForceSetType: Vehicle
	CommandBarBlacklist:
		DisableStop: false
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -1024,1024,0
		ExitCell: 0,3
		ProductionTypes: Vehicle
		Priority: 3
	Exit@2:
		RequiresCondition: !being-captured
		ExitCell: 2,3
		ProductionTypes: Vehicle
		Priority: 2
	Exit@3:
		RequiresCondition: !being-captured
		ExitCell: -1,0
		ProductionTypes: Vehicle
		Priority: 1
	Exit@4:
		RequiresCondition: !being-captured
		ExitCell: 2,-1
		ProductionTypes: Vehicle
		Priority: 1
	Production:
		Produces: Vehicle
	ProductionQueue@infantry:
		Type: Vehicle
		DisplayOrder: 0
		Group: Vehicle
		LowPowerModifier: 300
		BuildDurationModifier: 100
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Vehicle
	InfiltrateForSupportPower:
		Proxy: vehicles.upgraded
		Types: SpyInfiltrate
	ProximityExternalCondition@ccnear:
		Condition: fac_near
		Range: 3c512
	ExternalCondition@cc_addon_exists:
		Condition: fac_addon_exists
	Pluggable@1:
		Offset: 1,1
		Conditions:
			tshop.plug: spawn_shop
		Requirements:
			tshop.plug: !build-incomplete && !fac_addon_exists && room_for_addon
		EditorOptions:
			tshop.plug: Machine Shop
	FreeActor@1:
		Actor: TSHOP
		SpawnOffset: 3,2
		RequiresCondition: spawn_shop
		AllowRespawn: true
	ProvidesPrerequisite@pluggable:
		RequiresCondition: !build-incomplete && !fac_addon_exists && room_for_addon
		Prerequisite: tfactory.addon

TFACTORY.addon:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Factory with no addon

TFACTORY.landed:
	Inherits: TFACTORY
	-Buildable:
	RenderSprites:
		Image: tfactory
	WithMakeAnimation:
		Sequence: land

TFACTORY.air:
	Inherits: ^FlyingBuilding
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^3x3Shape
	Inherits@prereqs: ^FactoryPrereqs
	RenderSprites:
		Image: tfactory
	Selectable:
		Bounds: 3072, 3072,0,512
	Transforms:
		IntoActor: tfactory.landed
		Offset: -1,0
	Health:
		HP: 150000
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: GroundPosition
	RevealsShroud@GAPGEN:
		Range: 5c0
		Type: GroundPosition
	Valued:
		Cost: 2000
	Tooltip:
		Name: Terran Factory
	SpawnActorOnDeath:
		Actor: tfactory.husk

TFACTORY.addoncaptor:
	Inherits: ^TerranAddonSpaceReserver
	ExternalCondition@addon:
		Condition: fac_near
	KillsSelf:
		RequiresCondition: !fac_near
	ProximityExternalCondition@addon:
		Condition: fac_addon
		Range: 1c0

TFACTORY.Husk:
	Inherits: ^TerranBuildingHusk
	Tooltip:
		Name: Terran Factory
	RenderSprites:
		Image: tfactory

TSPORT:
	Inherits: ^Building
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^3x3Shape
	Inherits@prereqs: ^AircraftPrereqs
	Inherits@BIB: ^3xBuildingBib
	Selectable:
		Bounds: 3072, 3072
		Class: TSPORT
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 34
		Prerequisites: radar, factory, ~structures.terran, ~techlevel.medium, ~!ai.boss
		Description: Produces aircraft.
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 2000
	Tooltip:
		Name: Starport
	Transforms:
		PauseOnCondition: chrono-vortex || being-captured || being-demolished || build-incomplete
		IntoActor: tsport.air
		Offset: 1,0
		Facing: 0
		NoTransformNotification: BuildingCannotPlaceAudio
	TransformsIntoMobile:
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	Power:
		Amount: -100
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
		Prerequisite: tsport
	FreeActor@addoncaptor:
		Actor: TSPORT.addoncaptor
		SpawnOffset: 3,1
	WithProductionOverlay:
		RequiresCondition: !build-incomplete
		Palette: player
		IsPlayerPalette: true
	RallyPoint:
		ForceSetType: Helicopter
	CommandBarBlacklist:
		DisableStop: false
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: 0,-256,0
		ExitCell: 0,0
		Facing: 896
	Production:
		Produces: Aircraft, Helicopter
	ProductionQueue@aircraft:
		Type: Aircraft
		DisplayOrder: 0
		Group: Aircraft
		LowPowerModifier: 300
		BuildDurationModifier: 100
		ReadyAudio: UnitReady
		BlockedAudio: NoBuild
		LimitedAudio: BuildingInProgress
		QueuedAudio: Building
		OnHoldAudio: OnHold
		CancelledAudio: Cancelled
	GrantExternalConditionToProduced:
		Condition: produced
	ProductionBar:
		ProductionType: Aircraft
	Reservable:
	ProximityExternalCondition@reload:
		Condition: reloadnear
		Range: 4c0
	InfiltrateForSupportPower:
		Proxy: aircraft.upgraded
		Types: SpyInfiltrate
	ProximityExternalCondition@ccnear:
		Condition: star_near
		Range: 3c512
	ExternalCondition@cc_addon_exists:
		Condition: star_addon_exists
	Pluggable@1:
		Offset: 1,1
		Conditions:
			tctrl.plug: spawn_shop
		Requirements:
			tctrl.plug: !build-incomplete && !star_addon_exists && room_for_addon
		EditorOptions:
			tctrl.plug: Control Tower
	FreeActor@1:
		Actor: TCTRL
		SpawnOffset: 3,2
		RequiresCondition: spawn_shop
		AllowRespawn: true
	ProvidesPrerequisite@pluggable:
		RequiresCondition: !build-incomplete && !star_addon_exists && room_for_addon
		Prerequisite: tsport.addon

TSPORT.addon:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Starport with no addon

TSPORT.landed:
	Inherits: TSPORT
	-Buildable:
	RenderSprites:
		Image: tsport
	WithMakeAnimation:
		Sequence: land

TSPORT.air:
	Inherits: ^FlyingBuilding
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^3x3Shape
	Inherits@prereqs: ^AircraftPrereqs
	RenderSprites:
		Image: tsport
	Selectable:
		Bounds: 3072, 3072,0,512
	Transforms:
		IntoActor: tsport.landed
		Offset: -1,0
	Health:
		HP: 150000
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: GroundPosition
	RevealsShroud@GAPGEN:
		Range: 5c0
		Type: GroundPosition
	Valued:
		Cost: 2000
	Tooltip:
		Name: Starport
	SpawnActorOnDeath:
		Actor: tsport.husk

TSPORT.addoncaptor:
	Inherits: ^TerranAddonSpaceReserver
	ExternalCondition@addon:
		Condition: star_near
	KillsSelf:
		RequiresCondition: !star_near
	ProximityExternalCondition@addon:
		Condition: star_addon
		Range: 1c0

TSPORT.Husk:
	Inherits: ^TerranBuildingHusk
	Tooltip:
		Name: Starport
	RenderSprites:
		Image: tsport

TARMORY:
	Inherits: ^Building
	Inherits@2: ^TerranBuilding
	Inherits@disable: ^DisableOnLowPower
	Inherits@shape: ^3x2Shape
	Inherits@BIB: ^3xBuildingBib
	Selectable:
		Bounds: 3072, 2048
	Buildable:
		Queue: Building
		BuildPaletteOrder: 35
		Prerequisites: factory, ~techlevel.high, ~structures.mengsk, !tarmory
		Description: Allows access to additional vehicle upgrades.
		BuildLimit: 1
	Valued:
		Cost: 1500
	Tooltip:
		Name: Armory
	ProvidesPrerequisite@buildingname:
	Building:
		Footprint: === xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 150000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 5c0
	Power:
		Amount: -50
	WithSpriteBody:
		PauseOnCondition: disabled
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	WithIdleOverlay@fire1:
		Offset: 0,-512,0
	WithIdleOverlay@fire2:
		Offset: 0,512,256
	WithIdleOverlay@fire3:
		Offset: 0,0,512

TSCIENCE:
	Inherits: ^ScienceBuilding
	Inherits@fire: ^TerranBuilding
	Inherits@IDISABLE: ^DisableOnLowPower
	Inherits@shape: ^3x3Shape
	Inherits@BIB: ^3xBuildingBib
	Selectable:
		Bounds: 3072, 3072
		Class: TSCIENCE
	Building:
		Footprint: xxx xxx ===
		Dimensions: 3,3
		LocalCenterOffset: 0,-512,0
	Buildable:
		Queue: Tech
		BuildPaletteOrder: 34
		Prerequisites: tacadamy, techcenter, ~structures.terran, ~techlevel.unrestricted, ~!ai.boss
		Description: Provides extra advanced technologies and\n upgrades to your forces.\n  Special Ability: Steady income\n\n  Allows access to more Barracks.
	Health:
		HP: 120000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	Valued:
		Cost: 2000
	Tooltip:
		Name: Science Facility
	Transforms:
		PauseOnCondition: chrono-vortex || being-captured || being-demolished || build-incomplete
		IntoActor: tscience.air
		Offset: 1,0
		Facing: 0
		NoTransformNotification: BuildingCannotPlaceAudio
	TransformsIntoMobile:
		Locomotor: heavywheeled
		RequiresForceMove: true
	TransformsIntoTransforms:
		RequiresCondition: build-incomplete
	TransferTimedExternalConditionOnTransform:
		Condition: invulnerability
	Power:
		Amount: -100
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	ProvidesPrerequisite@buildingname:
		Prerequisite: tscience
	ProvidesPrerequisite:
		Prerequisite: techcenter
	ProvidesPrerequisite@adv:
		Prerequisite: advtechcenter
	CashTrickler:
		Interval: 750
		Amount: 75
		InitialDelay: 325
		RequiresCondition: !disabled
		UseResourceStorage: true
	FreeActor@addoncaptor:
		Actor: TSCIENCE.addoncaptor
		SpawnOffset: 3,1
	ProximityExternalCondition@ccnear:
		Condition: scf_near
		Range: 3c512
	ExternalCondition@cc_addon_exists:
		Condition: scf_addon_exists
	Pluggable@1:
		Offset: 1,1
		Conditions:
			tcops.plug: spawn_shop
			tplab.plug: spawn_lab
		Requirements:
			tcops.plug: !build-incomplete && !scf_addon_exists && room_for_addon
			tplab.plug: !build-incomplete && !scf_addon_exists && room_for_addon
		EditorOptions:
			tcops.plug: Covert Ops
			tplab.plug: Physics Lab
	FreeActor@1:
		Actor: TCOPS
		SpawnOffset: 3,2
		RequiresCondition: spawn_shop
		AllowRespawn: true
	FreeActor@2:
		Actor: TPLAB
		SpawnOffset: 3,2
		RequiresCondition: spawn_lab
		AllowRespawn: true
	ProvidesPrerequisite@pluggable:
		RequiresCondition: !build-incomplete && !scf_addon_exists && room_for_addon
		Prerequisite: tscience.addon
	ProvidesPrerequisite@mengsk:
		Factions: mengsk
		Prerequisite: tscience.mengsk
	DropPodsPower:
		Prerequisites: tscience.mengsk
		Name: Dogs of War
		Description: Deploy 30 Enthralled Zerglings to fight for 60 seconds.
		OrderName: MengskDogs
		Icon: zergling
		Drops: 6,6
		PodScatter: 3
		ChargeInterval: 12000
		UnitTypes: TDROPSHIP.ZergDropPod
		SelectTargetSpeechNotification: SelectTarget
		SelectTargetTextNotification: Select target.
		CameraActor: camera
		CameraRemoveDelay: 250
		EntryEffect: explosion
		EntryEffectSequence: bunkerbustersring
		Weapon: TerranGhostPainter
		WeaponDelay: 5
		PodFacing: 896
		PauseOnCondition: disabled

TSCIENCE.addon:
	AlwaysVisible:
	Interactable:
	Tooltip:
		Name: Science Facility with no addon

TSCIENCE.landed:
	Inherits: TSCIENCE
	-Buildable:
	RenderSprites:
		Image: tscience
	WithMakeAnimation:
		Sequence: land

TSCIENCE.air:
	Inherits: ^FlyingBuilding
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^3x3Shape
	Inherits@prereqs: ^AircraftPrereqs
	RenderSprites:
		Image: tscience
	Selectable:
		Bounds: 3072, 3072,0,512
	Transforms:
		IntoActor: tscience.landed
		Offset: -1,0
	Health:
		HP: 150000
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
		Type: GroundPosition
	RevealsShroud@GAPGEN:
		Range: 5c0
		Type: GroundPosition
	Valued:
		Cost: 3000
	Tooltip:
		Name: Science Facility
	SpawnActorOnDeath:
		Actor: tscience.husk

TSCIENCE.addoncaptor:
	Inherits: ^TerranAddonSpaceReserver
	ExternalCondition@addon:
		Condition: scf_near
	KillsSelf:
		RequiresCondition: !scf_near
	ProximityExternalCondition@addon:
		Condition: scf_addon
		Range: 1c0

TSCIENCE.Husk:
	Inherits: ^TerranBuildingHusk
	Tooltip:
		Name: Science Facility
	RenderSprites:
		Image: tscience

TBUNKER:
	Inherits: ^Defense
	Inherits@fire: ^TerranBuilding
	Inherits@shape: ^2x2Shape
	Inherits@AUTOTARGET: ^AutoTargetAll
	Inherits@CARGOPIPS: ^CargoPips
	Selectable:
		Class: TBUNKER
		Bounds: 2048,1664
	Tooltip:
		Name: Bunker
	Building:
		Dimensions: 2,2
		Footprint: ++ xx
	Buildable:
		Queue: Defense
		BuildPaletteOrder: 40
		Prerequisites: barracks, ~structures.terran, ~techlevel.low, ~!ai.all, ~!structures.mengsk
		Description: Static defense with a fireport for\n garrisoned troops.\nCannot detect cloaked units.\n  Strong vs Infantry, Light armor\n  Weak vs Tanks, Aircraft
	Valued:
		Cost: 800
	CustomSellValue:
		Value: 600
	GivesExperience:
		Experience: 600
	Health:
		HP: 60000
	Armor:
		Type: Heavy
	RevealsShroud:
		MinRange: 5c0
		Range: 6c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 5c0
	-QuantizeFacingsFromSequence:
	BodyOrientation:
		QuantizedFacings: 8
	InstantlyRepairable:
		RequiresCondition: repairtime
	GrantConditionOnDamageState@DAMAGED:
		Condition: repairtime
		ValidDamageStates: Light, Medium, Heavy, Critical
	Cargo:
		Types: Infantry
		MaxWeight: 4
		PassengerConditions:
			tmarine: tmarine
			tmarine.b: tmarine
			tmarine.b2: tmarine
			tfirebat: tfirebat
			tfirebat.b: tfirebat
			tscv: tscv
			tmedic: tmedic
			tghost: tghost
			e1of: e1of
			dm2of: e1of
			e1: tmarine
			fe1: tmarine
		InitialUnits: tmarine.b2
	ProximityExternalCondition@officer:
		RequiresCondition: e1of
		Condition: squadboost
		Range: 5c0
	WithDecoration@officer2:
		Image: pips
		Sequence: pip-bonus
		Palette: effect
		Position: TopRight
		ValidRelationships: None,Neutral,Enemy,Ally
		RequiresCondition: !demoralise && e1of
	ExternalCondition@demoralise:
		Condition: demoralise
	-SpawnActorsOnSell:
	GrantConditionOnAttack@shooting:
		Condition: shooting
		RevokeDelay: 14
	WithMuzzleOverlay:
	Armament@marine1:
		Weapon: TerranMarineGarrison
		MuzzleSequence: muzzle
		RequiresCondition: tmarine
		Turret: 1
		PauseOnCondition: marine_upgraded
	Armament@marine2:
		Weapon: TerranMarineGarrison
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 2
		Turret: 2
		PauseOnCondition: marine_upgraded
	Armament@marine3:
		Weapon: TerranMarineGarrison
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 3
		Turret: 3
		PauseOnCondition: marine_upgraded
	Armament@marine4:
		Weapon: TerranMarineGarrison
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 4
		Turret: 4
		PauseOnCondition: marine_upgraded
	Armament@marine5:
		Weapon: TerranMarineGarrison
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 5
		Turret: 5
		PauseOnCondition: marine_upgraded
	Armament@marine6:
		Weapon: TerranMarineGarrison
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 6
		Turret: 6
		PauseOnCondition: marine_upgraded
	Armament@marine1b:
		Weapon: TerranMarineGarrisonUp
		MuzzleSequence: muzzle
		RequiresCondition: tmarine
		Turret: 1
		PauseOnCondition: !marine_upgraded
	Armament@marine2b:
		Weapon: TerranMarineGarrisonUp
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 2
		Turret: 2
		PauseOnCondition: !marine_upgraded
	Armament@marine3b:
		Weapon: TerranMarineGarrisonUp
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 3
		Turret: 3
		PauseOnCondition: !marine_upgraded
	Armament@marine4b:
		Weapon: TerranMarineGarrisonUp
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 4
		Turret: 4
		PauseOnCondition: !marine_upgraded
	Armament@marine5b:
		Weapon: TerranMarineGarrisonUp
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 5
		Turret: 5
		PauseOnCondition: !marine_upgraded
	Armament@marine6b:
		Weapon: TerranMarineGarrisonUp
		MuzzleSequence: muzzle
		RequiresCondition: tmarine >= 6
		Turret: 6
		PauseOnCondition: !marine_upgraded
	Armament@firebat1a:
		Weapon: FirebatFlamerGarrison
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,260,256
		Turret: 1
		RequiresCondition: tfirebat
	Armament@firebat1b:
		Weapon: FirebatFlamerGarrison2
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,-260,256
		Turret: 1
		RequiresCondition: tfirebat
	Armament@firebat2a:
		Weapon: FirebatFlamerGarrison
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,260,256
		RequiresCondition: tfirebat >= 2
		Turret: 2
	Armament@firebat2b:
		Weapon: FirebatFlamerGarrison2
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,-260,256
		RequiresCondition: tfirebat >= 2
		Turret: 2
	Armament@firebat3a:
		Weapon: FirebatFlamerGarrison
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,260,256
		RequiresCondition: tfirebat >= 3
		Turret: 3
	Armament@firebat3b:
		Weapon: FirebatFlamerGarrison2
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,-260,256
		RequiresCondition: tfirebat >= 3
		Turret: 3
	Armament@firebat4a:
		Weapon: FirebatFlamerGarrison
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,260,256
		RequiresCondition: tfirebat >= 4
		Turret: 4
	Armament@firebat4b:
		Weapon: FirebatFlamerGarrison2
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,-260,256
		RequiresCondition: tfirebat >= 4
		Turret: 4
	Armament@firebat5a:
		Weapon: FirebatFlamerGarrison
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,260,256
		RequiresCondition: tfirebat >= 5
		Turret: 5
	Armament@firebat5b:
		Weapon: FirebatFlamerGarrison2
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,-260,256
		RequiresCondition: tfirebat >= 5
		Turret: 5
	Armament@firebat6a:
		Weapon: FirebatFlamerGarrison
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,260,256
		RequiresCondition: tfirebat >= 6
		Turret: 6
	Armament@firebat6b:
		Weapon: FirebatFlamerGarrison2
		MuzzleSequence: flame
		MuzzlePalette: dawneffect
		LocalOffset: 512,-260,256
		RequiresCondition: tfirebat >= 6
		Turret: 6
	Armament@ghost1:
		Weapon: TerranGhost
		MuzzleSequence: muzzle
		RequiresCondition: tghost
		Turret: 1
	Armament@ghost2:
		Weapon: TerranGhost
		MuzzleSequence: muzzle
		RequiresCondition: tghost >= 2
		Turret: 2
	Armament@ghost3:
		Weapon: TerranGhost
		MuzzleSequence: muzzle
		RequiresCondition: tghost >= 3
		Turret: 3
	Armament@ghost4:
		Weapon: TerranGhost
		MuzzleSequence: muzzle
		RequiresCondition: tghost >= 4
		Turret: 4
	Armament@ghost5:
		Weapon: TerranGhost
		MuzzleSequence: muzzle
		RequiresCondition: tghost >= 5
		Turret: 5
	Armament@ghost6:
		Weapon: TerranGhost
		MuzzleSequence: muzzle
		RequiresCondition: tghost >= 6
		Turret: 6
	Turreted@1:
		Turret: 1
		TurnSpeed: 24
		InitialFacing: 0
		RealignDelay: 1
	Turreted@2:
		Turret: 2
		TurnSpeed: 24
		InitialFacing: 256
		RealignDelay: 1
	Turreted@3:
		Turret: 3
		TurnSpeed: 24
		InitialFacing: 512
		RealignDelay: 1
	Turreted@4:
		Turret: 4
		TurnSpeed: 24
		InitialFacing: 768
		RealignDelay: 1
	Turreted@5:
		Turret: 5
		TurnSpeed: 24
		InitialFacing: 896
		RealignDelay: 3
	Turreted@6:
		Turret: 6
		TurnSpeed: 24
		InitialFacing: 128
		RealignDelay: 2
	AttackTurreted:
		Armaments: primary
		Turrets: 1,2,3,4,5,6
	RenderRangeCircle:
		FallbackRange: 6c0
	GrantConditionOnPrerequisite@upgrade:
		Prerequisites: terran.marine
		Condition: marine_upgraded
	SpawnActorOnDeath@1:
		Actor: tmarine
		Probability: 90
		Offset: 0,0
		RequiresCondition: tmarine >= 1
	SpawnActorOnDeath@2:
		Actor: tmarine
		Probability: 80
		Offset: 0,1
		RequiresCondition: tmarine >= 2
	SpawnActorOnDeath@3:
		Actor: tmarine
		Probability: 70
		Offset: 1,0
		RequiresCondition: tmarine >= 3
	SpawnActorOnDeath@4:
		Actor: tfirebat
		Offset: 1,1
		RequiresCondition: tfirebat >= 1
	SpawnActorOnDeath@5:
		Actor: tfirebat
		Offset: 0,1
		RequiresCondition: tfirebat >= 2
	SpawnActorOnDeath@6:
		Actor: tmedic
		Offset: 1,1
		RequiresCondition: tmedic
	SpawnActorOnDeath@7:
		Actor: tscv
		Offset: 1,1
		RequiresCondition: tscv
	SpawnActorOnDeath@8:
		Actor: tghost
		Offset: 1,1
		RequiresCondition: tghost >= 1
	ChangesHealth@scv:
		Step: 500
		StartIfBelow: 101
		Delay: 25
		RequiresCondition: tscv
	DamageMultiplier@scv:
		Modifier: 90
		RequiresCondition: tscv
	WithIdleOverlay@fire1:
		Offset: 0,-512,128
	WithIdleOverlay@fire2:
		Offset: 0,512,512
	WithIdleOverlay@fire3:
		Offset: 0,128,340
	Capturable:
		RequiresCondition: !build-incomplete && repairtime
	-SpawnActorsOnSell@terran:

TBUNKER.BOT:
	Inherits: TBUNKER
	Buildable:
		BuildPaletteOrder: 9000
		Prerequisites: barracks, ~structures.terran, ~techlevel.low, ~ai.all, ~!structures.mengsk
		Description: AI-only, contains 3 marines and a firebat. \nAlso has self-heals for Hard difficulty
	Valued:
		Cost: 1200
	GivesExperience:
		Experience: 600
	Cargo:
		InitialUnits: tmarine.b2,tmarine.b2,tmarine.b2,tfirebat.b
	RenderSprites:
		Image: tbunker
	Explodes@2:
		Weapon: UnitExplodeSmall2
		EmptyWeapon: UnitExplodeSmall2
	ChangesHealth@scv:
		RequiresCondition: bot_hard

TBUNKER.BOT2:
	Inherits: TBUNKER.BOT
	Buildable:
		Prerequisites: barracks, tcops, ~structures.terran, ~techlevel.unrestricted, ~ai.all, ~!structures.mengsk
		Description: AI-only, contains 3 marines and a ghost. \nAlso has self-heals for Hard difficulty
	Cargo:
		InitialUnits: tmarine.b2,tmarine.b2,tmarine.b2,tghost

TBUNKER.Mengsk:
	Inherits: TBUNKER
	Buildable:
		Prerequisites: barracks, ~structures.mengsk, ~techlevel.low, ~!ai.all
		Icon: icon-supply
	Valued:
		Cost: 1100
	CustomSellValue:
		Value: 600
	GivesExperience:
		Experience: 600
	Cargo:
		MaxWeight: 6
		InitialUnits: tmarine.b2,tmarine.b2
	RenderSprites:
		Image: tbunker
	Health:
		HP: 100000
	Tooltip:
		Name: Supply Bunker
	Power:
		Amount: 100
	WithSpriteBody:
		Sequence: idle2
	SpawnActorOnDeath@1:
		Probability: 100
	SpawnActorOnDeath@2:
		Probability: 100
	SpawnActorOnDeath@3:
		Probability: 90

TBUNKER.Mengsk.BOT:
	Inherits: TBUNKER.Mengsk
	Buildable:
		BuildPaletteOrder: 9000
		Prerequisites: barracks, ~structures.mengsk, ~techlevel.low, ~ai.all
		Description: AI-only, contains 4 marines and 2 firebats. \nAlso has self-heals for Hard difficulty
	Valued:
		Cost: 1600
	Cargo:
		InitialUnits: tmarine.b2,tmarine.b2,tmarine.b2,tmarine.b2,tfirebat.b,tfirebat.b
	Explodes@2:
		Weapon: UnitExplodeSmall2
		EmptyWeapon: UnitExplodeSmall2
	ChangesHealth@scv:
		RequiresCondition: bot_hard

TBUNKER.Mengsk.BOT2:
	Inherits: TBUNKER.Mengsk.BOT
	Valued:
		Cost: 2000
	Buildable:
		Prerequisites: barracks, tcops, ~structures.mengsk, ~techlevel.unrestricted, ~ai.all
		Description: AI-only, contains 5 marines and 1 ghost. \nAlso has self-heals for Hard difficulty
	Cargo:
		InitialUnits: tmarine.b2,tmarine.b2,tmarine.b2,tmarine.b2,tmarine.b2,tghost

TBUNKER.Mengsk.Drop:
	Inherits: TBUNKER.Mengsk.BOT
	-Buildable:
	Cargo:
		InitialUnits: tmarine.b2,tmarine.b2,tmarine.b2,tmarine.b2

MISS.TERRAN:
	Inherits: T.MISS
	-Buildable:
