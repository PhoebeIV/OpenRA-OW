unscreactor:
	Inherits: ^PowerPlant
	Inherits@POWER_OUTAGE: ^DisabledByPowerOutage
	Inherits@shape: ^2x2Shape
	Inherits@BIB: ^2xBuildingBib
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 640,-384,0, 640,512,0, -710,-512,0, -710,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 10
		Prerequisites: ~structures.unsc, ~!ai.powerout
		Description: actor-unscreactor.description
	Valued:
		Cost: 600
	Tooltip:
		Name: actor-unscreactor.name
	ProvidesPrerequisite:
		Prerequisite: anypower
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 80000
	Armor:
		Type: Wood
	RevealsShroud:
		Range: 4c0
	Power@notovercharged:
		Amount: 150
		RequiresCondition: !overcharge && !disabled
	Power@overcharged:
		Amount: 500
		RequiresCondition: overcharge && !disabled
	FireWarheadsOnDeath@overcharged:
		Weapon: TinyNuke
		EmptyWeapon: TinyNuke
		RequiresCondition: overcharge && !disabled
	FireWarheadsOnDeath:
		Weapon: chinaoverlordexplosion
		EmptyWeapon: chinaoverlordexplosion
	GrantConditionOnDeploy:
		MakeAnimationDeployTypes:
		DeployedCondition: overcharge
		SkipMakeAnimation: True
	ChangesHealth@overcharged:
		RequiresCondition: overcharge && !disabled
		PercentageStep: -5
		Delay: 25
		DamageCooldown: 25
		StartIfBelow: 110
	WithIdleOverlay@overcharge:
		Image: explosion
		Sequence: cyrostreamexplosion
		Offset: 0,-562,612
		RequiresCondition: !disabled
		Palette: noplayer
	Targetable:
		TargetTypes: GroundActor, Structure, C4, DetonateAttack, SpyInfiltrate
	ScalePowerWithHealth:
	WithDeathAnimation:
		DeathSequence: dead
		PlayerPalette: ra2
		UseDeathTypeSuffix: false
	RenderSprites:
		Image: chinanuclearreactor
		PlayerPalette: dawn

unscbarracks:
	Inherits: ^DawnBuilding
	Inherits@prereqs: ^BarracksPrereqs
	Inherits@shape: ^2x2Shape
	Inherits@BIB: ^2xBuildingBib
	Selectable:
		Bounds: 2048, 2048
	HitShape:
		UseTargetableCellsOffsets: false
		TargetableOffsets: 0,0,0, 630,-512,0, 355,512,0, -281,-512,0, -630,512,0
	Buildable:
		Queue: Building
		BuildPaletteOrder: 20
		Prerequisites: anypower, ~structures.unsc, ~!structures.bothard
		Description: actor-unscbarracks.description
	Valued:
		Cost: 600
	Tooltip:
		Name: actor-unscbarracks.name
	Building:
		Footprint: xx xx ==
		Dimensions: 2,3
		LocalCenterOffset: 0,-512,0
	Health:
		HP: 70000
	Armor:
		Type: Wood
	RevealsShroud:
		MinRange: 4c0
		Range: 5c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 4c0
	RenderSprites:
		PlayerPalette: dawn
		Image: usabarracksbuilding
	ActorPreviewPlaceBuildingPreview:
	Cloak@stealthgen:
		Palette: dawncloak
	RallyPoint:
	Exit@1:
		RequiresCondition: !being-captured
		SpawnOffset: -42,810,0
		ExitCell: 1,2
		ProductionTypes: Soldier, Infantry
	Exit@2:
		RequiresCondition: !being-captured
		SpawnOffset: -725,640,0
		ExitCell: 0,2
		ProductionTypes: Soldier, Infantry
	Production:
		Produces: Infantry, Soldier
	GrantExternalConditionToProduced:
		Condition: produced
	PrimaryBuilding:
		PrimaryCondition: primary
		SelectionNotification: PrimaryBuildingSelected
	ProductionBar:
		ProductionType: Infantry
	Power:
		Amount: -20
	ProvidesPrerequisite@buildingname:
	InfiltrateForSupportPower:
		Proxy: barracks.upgraded
		Types: SpyInfiltrate
	Targetable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure, SpyInfiltrate
	WithDecoration@primary:
		RequiresSelection: true
		Image: pips
		Sequence: tag-primary
		Position: Top
		RequiresCondition: primary
	ProvidesPrerequisite@zocomupgrade:
		RequiresPrerequisites: structures.zocom
		Prerequisite: barracks.upgraded
	ProvidesPrerequisite@phobosupgrade:
		RequiresPrerequisites: structures.phobos
		Prerequisite: barracks.upgraded
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
		DeathSequencePalette: dawn
