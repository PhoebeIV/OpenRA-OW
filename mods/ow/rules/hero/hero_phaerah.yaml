# Killing Machine
phaerah.tier1.killingmachine:
	Inherits: ^HeroUpgradeBaseTier1
	Tooltip:
		Name: actor-phaerah-upgrade.t1u1name
	Buildable:
		Description: actor-phaerah-upgrade.t1u1desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent1
		Icon: km
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent1
	ProvidesPrerequisite@upgradename:

# Must pick Killing Machine first
phaerah.tier1.runicmastery:
	Inherits: ^HeroUpgradeBaseTier1
	Tooltip:
		Name: actor-phaerah-upgrade.t1u2name
	Buildable:
		Description: actor-phaerah-upgrade.t1u2desc
		Prerequisites: ~active.phaerah, ~phaerah.talent1
		Icon: runicmastery
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier1.runicempowerment:
	Inherits: ^HeroUpgradeBaseTier1
	Tooltip:
		Name: actor-phaerah-upgrade.t1u3name
	Buildable:
		Description: actor-phaerah-upgrade.t1u3desc
		Prerequisites: ~active.phaerah, ~phaerah.talent1
		Icon: runicempowerment
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier1.leech:
	Inherits: ^HeroUpgradeBaseTier1
	Tooltip:
		Name: actor-phaerah-upgrade.t1u4name
	Buildable:
		Queue: HeroUpgrade1
		Description: actor-phaerah-upgrade.t1u4desc
		Prerequisites: ~active.phaerah, ~phaerah.talent1
		Icon: leech1
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier1.leech_b:
	Inherits: ^HeroUpgradeBaseTier2
	Tooltip:
		Name: actor-phaerah-upgrade.t1u4name
	Buildable:
		Description: actor-phaerah-upgrade.t1u4desc
		Prerequisites: ~active.phaerah, ~phaerah.talent2, ~!phaerah.tier1.leech
		Icon: leech1
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:
		Prerequisite: phaerah.tier1.leech

# Veteran of the 3rd war
phaerah.tier2.veteran:
	Inherits: ^HeroUpgradeBaseTier2
	Tooltip:
		Name: actor-phaerah-upgrade.t2u1name
	Buildable:
		Description: actor-phaerah-upgrade.t2u1desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent2
		Icon: vet1
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent2
	ProvidesPrerequisite@upgradename:

phaerah.tier2.march:
	Inherits: ^HeroUpgradeBaseTier2
	Tooltip:
		Name: actor-phaerah-upgrade.t2u2name
	Buildable:
		Description: actor-phaerah-upgrade.t2u2desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent2
		Icon: march
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent2
	ProvidesPrerequisite@upgradename:

phaerah.tier2.rime:
	Inherits: ^HeroUpgradeBaseTier2
	Tooltip:
		Name: actor-phaerah-upgrade.t2u3name
	Buildable:
		Description: actor-phaerah-upgrade.t2u3desc
		Prerequisites: ~active.phaerah, ~phaerah.talent2
		Icon: rime
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier2.leech:
	Inherits: ^HeroUpgradeBaseTier2
	Tooltip:
		Name: actor-phaerah-upgrade.t2u4name
	Buildable:
		Description: actor-phaerah-upgrade.t2u4desc
		Prerequisites: ~active.phaerah, ~phaerah.talent2, ~phaerah.tier1.leech
		Icon: leech2
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

# Veteran of the 3rd war
phaerah.tier3.veteran:
	Inherits: ^HeroUpgradeBaseTier3
	Tooltip:
		Name: actor-phaerah-upgrade.t3u1name
	Buildable:
		Description: actor-phaerah-upgrade.t3u1desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent3
		Icon: vet2
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent3
	ProvidesPrerequisite@upgradename:

# Runic Attenuation
phaerah.tier3.runicattenuation:
	Inherits: ^HeroUpgradeBaseTier3
	Tooltip:
		Name: actor-phaerah-upgrade.t3u2name
	Buildable:
		Description: actor-phaerah-upgrade.t3u2desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent3
		Icon: runicattenuation
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent3
	ProvidesPrerequisite@upgradename:

phaerah.tier3.icecold:
	Inherits: ^HeroUpgradeBaseTier3
	Tooltip:
		Name: actor-phaerah-upgrade.t3u3name
	Buildable:
		Description: actor-phaerah-upgrade.t3u3desc
		Prerequisites: ~active.phaerah, ~phaerah.talent3
		Icon: heat
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier3.deathstrike:
	Inherits: ^HeroUpgradeBaseTier3
	Tooltip:
		Name: actor-phaerah-upgrade.t3u4name
	Buildable:
		Description: actor-phaerah-upgrade.t3u4desc
		Prerequisites: ~active.phaerah, ~phaerah.talent3
		Icon: deathstrike
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier3.arcticassault:
	Inherits: ^HeroUpgradeBaseTier3
	Tooltip:
		Name: actor-phaerah-upgrade.t3u5name
	Buildable:
		Description: actor-phaerah-upgrade.t3u5desc
		Prerequisites: ~active.phaerah, ~phaerah.talent3
		Icon: arcticassault
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier4.boneshield:
	Inherits: ^HeroUpgradeBaseTier4
	Tooltip:
		Name: actor-phaerah-upgrade.t4u1name
	Buildable:
		Description: actor-phaerah-upgrade.t4u1desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent4
		Icon: boneshield
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent4
	ProvidesPrerequisite@upgradename:
	ProvidesPrerequisite@aibuild:
		Prerequisite: phaerah.bot.blood
		RequiresPrerequisites: ai.all

phaerah.tier4.pillar:
	Inherits: ^HeroUpgradeBaseTier4
	Tooltip:
		Name: actor-phaerah-upgrade.t4u2name
	Buildable:
		Description: actor-phaerah-upgrade.t4u2desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent4
		Icon: pillar
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent4
	ProvidesPrerequisite@upgradename:
	ProvidesPrerequisite@aibuild:
		Prerequisite: phaerah.bot.frost
		RequiresPrerequisites: ai.all

phaerah.tier4.iceytorrent:
	Inherits: ^HeroUpgradeBaseTier4
	Tooltip:
		Name: actor-phaerah-upgrade.t4u3name
	Buildable:
		Description: actor-phaerah-upgrade.t4u3desc
		Prerequisites: ~active.phaerah, ~phaerah.talent4, !phaerah.bot.blood
		Icon: icey
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier4.necropolis:
	Inherits: ^HeroUpgradeBaseTier4
	Tooltip:
		Name: actor-phaerah-upgrade.t4u4name
	Buildable:
		Description: actor-phaerah-upgrade.t4u4desc
		Prerequisites: ~active.phaerah, ~phaerah.talent4
		Icon: will
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier5.runeweapon:
	Inherits: ^HeroUpgradeBaseTier5
	Tooltip:
		Name: actor-phaerah-upgrade.t5u1name
	Buildable:
		Description: actor-phaerah-upgrade.t5u1desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent5, !phaerah.bot.blood
		Icon: empowerrune
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent5
	ProvidesPrerequisite@upgradename:

phaerah.tier5.blooddraw:
	Inherits: ^HeroUpgradeBaseTier5
	Tooltip:
		Name: actor-phaerah-upgrade.t5u2name
	Buildable:
		Description: actor-phaerah-upgrade.t5u2desc
		Prerequisites: ~active.phaerah, ~!phaerah.talent5, !phaerah.bot.frost
		Icon: leech2
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@tier:
		Prerequisite: phaerah.talent5
	ProvidesPrerequisite@upgradename:

phaerah.tier5.nullmagic:
	Inherits: ^HeroUpgradeBaseTier5
	Tooltip:
		Name: actor-phaerah-upgrade.t5u3name
	Buildable:
		Description: actor-phaerah-upgrade.t5u3desc
		Prerequisites: ~active.phaerah, ~phaerah.talent5, !phaerah.bot.frost
		Icon: nullmagic
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.tier5.obliteration:
	Inherits: ^HeroUpgradeBaseTier5
	Tooltip:
		Name: actor-phaerah-upgrade.t5u4name
	Buildable:
		Description: actor-phaerah-upgrade.t5u4desc
		Prerequisites: ~active.phaerah, ~phaerah.talent5, phaerah.tier4.pillar, !phaerah.bot.blood
		Icon: km
	RenderSprites:
		Image: phaerah.icons
	ProvidesPrerequisite@upgradename:

phaerah.allpick:
	Inherits: ^HeroPickBase
	RenderSprites:
		Image: vulperadk
	Buildable:
		Prerequisites: ~techlevel.hero, ~!hero.chosen
		Description: actor-phaedk-hero.description
	Valued:
		Cost: 0
	Tooltip:
		Name: actor-phaedk-hero.name
	ProvidesPrerequisite@hero:
		Prerequisite: hero.chosen
	ProvidesPrerequisite@pickme:
		Prerequisite: hero.phaerah

phaerah.bloodspec:
	ScriptTriggers:
	RenderSprites:
	Aircraft:
	Interactable:
		Bounds: 256,256
	Targetable:
		TargetTypes: NoAITarget
	Buildable: 
		Queue: HeroAbility
		BuildDuration: 250
		BuildDurationModifier: 100
		Prerequisites: ~active.phaerah, !phaerah.bloodspec, !phaerah.combat, !phaerah.specbot, !phaerah.bot.frost
		Description: actor-phaedk-hero.blooddesc
	ProvidesPrerequisite:
	Tooltip:
		RequiresCondition: !exists
		Name: actor-phaedk-hero.blood
	KillsSelf:
		Delay: 5
		RemoveInstead: true
		RequiresCondition: spec_change && exists
	GrantDelayedCondition: 
		Condition: exists
		Delay: 25
	GrantConditionOnPrerequisite:
		Condition: spec_change
		Prerequisites: phaerah.frostspec
	WithProductionIconOverlay:
		Types: UpgradeComplete
		Prerequisites: phaerah.bloodspec
	GrantConditionOnPrerequisite@bot: 
		Condition: botowner
		Prerequisites: ai.all
	GrantDelayedCondition@bot:
		Delay: 6000, 9000
		RequiresCondition: botowner
		Condition: spec_change
	ProvidesPrerequisite@bot:
		Prerequisite: phaerah.specbot
		RequiresPrerequisites: ai.all, !phaerah.bot.blood

phaerah.frostspec:
	Inherits: phaerah.bloodspec
	Buildable: 
		Prerequisites: ~active.phaerah, !phaerah.frostspec, !phaerah.combat, !phaerah.specbot, !phaerah.bot.blood
		Description: actor-phaedk-hero.frostdesc
	Tooltip:
		Name: actor-phaedk-hero.frost
	GrantConditionOnPrerequisite:
		Prerequisites: phaerah.bloodspec
	WithProductionIconOverlay:
		Prerequisites: phaerah.frostspec
	ProvidesPrerequisite@bot:
		Prerequisite: phaerah.specbot
		RequiresPrerequisites: ai.all, !phaerah.bot.frost

frostwyrm.ready:
	Inherits: phaerah.bloodspec
	Buildable: 
		Prerequisites: ~active.phaerah, !frostwyrm.ready, phaerah.frostspec, hero.tier5
		BuildDuration: 4500
		Description: actor-phaedk-hero.frostwyrmdesc
		Icon: frostwyrm
	RenderSprites:
		Image: phaerah.icons
	Tooltip:
		Name: actor-phaedk-hero.frostwyrm
	GrantConditionOnPrerequisite:
		Prerequisites: frostwyrm.used
	GrantConditionOnPrerequisite@2:
		Condition: spec_change
		Prerequisites: phaerah.bloodspec
	WithProductionIconOverlay:
		Prerequisites: frostwyrm.ready
	-ProvidesPrerequisite@bot:

raisephae.ready:
	Inherits: phaerah.bloodspec
	Buildable: 
		Prerequisites: ~active.phaerah, !raisephae.ready, phaerah.bloodspec, hero.tier5
		BuildDuration: 4500
		Description: actor-phaedk-hero.raisedesc
		Icon: raise
	RenderSprites:
		Image: phaerah.icons
	Tooltip:
		Name: actor-phaedk-hero.raise
	GrantConditionOnPrerequisite:
		Prerequisites: raisephae.used
	GrantConditionOnPrerequisite@2:
		Condition: spec_change
		Prerequisites: phaerah.frostspec
	WithProductionIconOverlay:
		Prerequisites: raisephae.ready
	-ProvidesPrerequisite@bot:

PHAEDK.Hero0:
	Inherits: ^DoomSoldier
	Inherits@Hero: ^Hero
	Inherits@heroTier: ^HeroTier0
	Inherits@AUTOTARGET: ^AutoTargetGroundAssaultMove
	-GainsExperience:
	-SoundOnDamageTransition:
	-SpawnActorOnDeath@fire:
	-SpawnActorOnDeath@zombie:
	Targetable@phae:
		TargetTypes: DeathKnight
	ProvidesPrerequisite@active:
		Prerequisite: active.phaerah
	AutoTarget:
		ScanRadius: 6
	RenderSprites:
		Image: vulperadk
	Buildable:
		Queue: Infantry, Hero
		BuildPaletteOrder: 50
		Prerequisites: ~barracks, !active.phaerah, ~!hero.tier1, ~hero.phaerah
		Description: actor-phaedk-hero.description
		BuildDurationModifier: 100
		BuildDuration: 750
		BuildLimit: 1
	Selectable:
		Bounds: 1536, 1536, 0, -350
		DecorationBounds: 1536, 1536, 0, -350
	Tooltip:
		Name: actor-phaedk-hero.tier0
	DamageTypeDamageMultiplier@default: # takes less damage from bullets
		DamageTypes: DefaultDeath, BulletDeath
		Modifier: 80
	DamageMultiplier@blood: # blood spec gets more HP
		RequiresCondition: blood_spec
		Modifier: 80
	FirepowerMultiplier@blood: # but does less damage
		RequiresCondition: blood_spec
		Modifier: 75
	ConvertsDamageToHealth@default: # default leech
		RequiresCondition: !deathstrike && !leech1_enabled && !lichborne
		DamagePercentConverted: 15
	ConvertsDamageToHealth@leech1: # leech from upgrade
		RequiresCondition: !deathstrike && leech1_enabled && !leech2_enabled
		DamagePercentConverted: 20
	ConvertsDamageToHealth@leech2:
		RequiresCondition: !deathstrike && (leech2_enabled || lichborne)
		DamagePercentConverted: 25
	Mobile:
		PauseOnCondition: immobile
		Speed: 96
		Locomotor: foot2
		Voice: Move
	Guard:
		Voice: Move
	Health:
		HP: 125000
	Shielded:
		RequiresCondition: external_shield && !emp_shields && !defense_matrix && !boneshield_enabled
	Shielded@boneshield:
		RequiresCondition: !shielded && boneshield_enabled
		MaxStrength: 20000
		RegenAmount: 5000
		RegenDelay: 50
		RegenInterval: 50
		ShieldsUpCondition: boneshielded
		ShieldsDamagedCondition: damaged_boneshield
		BypassDamageTypes: BypassShield
		OverrideDamageType: BypassedShield
		SelectionBarColor: BA4848
		RemoveOnDisable: false
	ShieldRegenMultiplier@boneshield:
		RequiresCondition: boneshield_enabled && marrowrend_bones
		Modifier: 5
	AmbientSound@boneshielded:
		RequiresCondition: boneshield_enabled && boneshielded
		SoundFiles: vulpboneshield.ogg
		Interval: 9000
	WithIdleOverlay@boneshield:
		RequiresCondition: boneshield_enabled && boneshielded
		Sequence: boneshield
	FireWarheads@boneshieldpop:
		RequiresCondition: boneshield_upgraded && !boneshielded
		Interval: 900
		Weapons: DKBoneExplode
	RevealsShroud:
		MinRange: 6c0
		Range: 7c0
		RevealGeneratedShroud: False
	RevealsShroud@GAPGEN:
		Range: 6c0
	-ExternalCondition@wander:
	-Crushable:
	Passenger:
		CustomPipType: red
		Voice: Move
		Weight: 2
	Voiced:
		VoiceSet: PhaerahVoice
	ChangesHealth@default:
		PercentageStep: 1
		Delay: 50
		StartIfBelow: 101
		DamageCooldown: 125
	ExternalCondition@PRODUCED:
		Condition: produced
	VoiceAnnouncement:
		RequiresCondition: produced
		Voice: Build
	AnnounceOnKillOW:
	AnnounceOnKillOW@ally:
		ValidStances: Ally
		Voice: FriendlyFire
	WithInfantryBody:
		RequiresCondition: !in_combat && !fallback
		DefaultAttackSequence: attack1
		IdleSequences: idle
		StandSequences: stand
		MinIdleDelay: 125
		MaxIdleDelay: 200
	WithInfantryBody@ready:
		RequiresCondition: in_combat || fallback
		DefaultAttackSequence: attack1
		AttackSequences:
			basic1: attack1
			basic2: attack2
			obliterate: attack3
			obliteratekm: attack3
			deathstrike: attack3
			marrowrend: attack2
			froststrike: attack4
			heartstrike: attack4
			dnd: aoe
			winter: aoe
			bloodboil: aoe
			howling: attack5
			howlingrime: attack5
			pillar: stand-ready
			frostwyrm: attack5long
		StandSequences: stand-ready
	GrantConditionOnAttack@0:
		ArmamentNames: basic1, basic2, obliterate, obliteratekm, froststrike, deathstrike, dnd, howling, howlingrime, winter, bloodboil, frostwyrm, heartstrike, marrowrend, pillar
		Condition: in_combat
		RevokeDelay: 125
	AttackFrontal:
		Armaments: basic1, basic2, winter, dnd, deathstrike, obliterate, obliteratekm, froststrike, howling, howlingrime, bloodboil, frostwyrm, heartstrike, marrowrend, pillar
	Armament@main1:
		RequiresCondition: basic1 && ((howlingblast_cooldown || in_combat) || blood_spec) && !frostwyrm_enabled
		PauseOnCondition: ability
		Name: basic1
		Weapon: DKBasicMeleeRight
	Armament@main2:
		RequiresCondition: basic2 && ((howlingblast_cooldown || in_combat) || blood_spec) && !frostwyrm_enabled
		PauseOnCondition: ability
		Name: basic2
		Weapon: DKBasicMelee
	GrantPeriodicConditionOW@main:
		Condition: basic1
		CooldownDuration: 17
		ActiveDuration: 17
	GrantPeriodicConditionOW@main2:
		Condition: basic2
		CooldownDuration: 17
		ActiveDuration: 17
		StartsGranted: true
	GrantPeriodicConditionOW@useability: # use basic attack at least twice before doing something big and fancy
		RequiresCondition: in_combat
		Condition: allow_ability
		CooldownDuration: 34
		ActiveDuration: 34
	Armament@REMORSELESS_WINTER:
		RequiresCondition: howlingblast_cooldown && !remorselesswinter_cooldown && remorselesswinter_enabled && !blood_spec
		PauseOnCondition: !runes || ability
		Name: winter
		Weapon: DKRemorselessWinter
	WithIdleOverlay@winter:
		RequiresCondition: remorselesswinter
		Sequence: winter
	WithColoredOverlay@winter:
		RequiresCondition: remorselesswinter
		Color: DBF7FF59
	FireWarheads@winter:
		RequiresCondition: remorselesswinter
		Interval: 25
		Weapons: DKRemorselessWinterDamage
	Armament@OBLITERATE:
		RequiresCondition: allow_ability && !killingmachine && !blood_spec
		PauseOnCondition: runes < 2 || ability
		Name: obliterate
		Weapon: DKObliterate
		MuzzleSequence: swing1
		LocalOffset: 256,0,256
		AmmoUsage: 2
	Armament@OBLITERATE_KM:
		RequiresCondition: allow_ability && killingmachine && !killingmachine_cooldown && !blood_spec
		PauseOnCondition: runes < 2 || ability
		Name: obliteratekm
		Weapon: DKObliterateKM
		MuzzleSequence: swing1
		LocalOffset: 256,0,256
		AmmoUsage: 2
	Armament@HEARTSTRIKE:
		RequiresCondition: allow_ability && blood_spec
		PauseOnCondition: !runes
		Name: heartstrike
		Weapon: DKHeartStrike
		MuzzleSequence: swing2
		LocalOffset: 256,0,256
	Armament@MARROWREND:
		RequiresCondition: allow_ability && blood_spec
		PauseOnCondition: runes < 2 || ability
		Name: marrowrend
		Weapon: DKMarrowrend
		MuzzleSequence: swing1
		LocalOffset: 256,0,256
		AmmoUsage: 2
	Armament@DEATHANDDECAY:
		RequiresCondition: ((frost_spec && allow_ability) || (blood_spec)) && dnd_enabled && !dnd_cooldown && !killingmachine
		PauseOnCondition: !runes || ability
		Name: dnd
		Weapon: DKDeathAndDecay
	FreeActor@DEATHANDDECAY:
		RequiresCondition: dnd_cooldown
		Actor: PHAEDK.DND
		AllowRespawn: true
	Armament@HOWLING_BLAST:
		RequiresCondition: !howlingblast_cooldown && !blood_spec && !killingmachine && !rime && !frostwyrm_enabled
		PauseOnCondition: !runes || ability
		Name: howling
		Weapon: DKHowlingBlast
		AmmoUsage: 1
	Armament@HOWLING_BLAST_RIME:
		RequiresCondition: !rime_cooldown && !blood_spec && rime && !frostwyrm_enabled
		PauseOnCondition: ability
		Name: howlingrime
		Weapon: DKHowlingBlastRime
		AmmoUsage: 0
	Armament@FROSTWYRM:
		RequiresCondition: frostwyrm_enabled
		PauseOnCondition: ability
		Name: frostwyrm
		Weapon: DKFrostwyrmFury
		LocalOffset: 0,0,4096
	Armament@FROSTSTRIKE:
		RequiresCondition: (!lowhp && allow_ability) && !blood_spec
		PauseOnCondition: runicpower < 30 || ability
		Name: froststrike
		Weapon: DKFroststrike
		MuzzleSequence: swing2
		LocalOffset: 256,0,256
		AmmoUsage: 35
	Armament@DEATHSTRIKE1:
		RequiresCondition: (lowhp || blood_spec) && !improved_deathstrike_enabled
		PauseOnCondition: runicpower < 45 || deathstrike_cooldown
		Name: deathstrike
		Weapon: DKDeathstrike
		MuzzleSequence: swing1
		LocalOffset: 256,0,256
		AmmoUsage: 45
	Armament@DEATHSTRIKE2:
		RequiresCondition: (lowhp || blood_spec) && improved_deathstrike_enabled
		PauseOnCondition: runicpower < 35 || deathstrike_cooldown
		Name: deathstrike
		Weapon: DKDeathstrike
		MuzzleSequence: swing1
		LocalOffset: 256,0,256
		AmmoUsage: 35
	Armament@BLOODBOIL:
		RequiresCondition: blood_spec
		PauseOnCondition: !bloodboil || ability
		Name: bloodboil
		Weapon: DKBloodboil
		AmmoUsage: 1
	Armament@PILLAR:
		RequiresCondition: howlingblast_cooldown && !pillar_cooldown && pillar_enabled && !blood_spec
		PauseOnCondition: ability
		Name: pillar
		Weapon: DKPillarOfFrost
	ConvertsDamageToHealth@deathstrike:
		RequiresCondition: deathstrike && !improved_deathstrike_enabled
		DamagePercentConverted: 500
	ConvertsDamageToHealth@deathstrikeimproved:
		RequiresCondition: deathstrike && improved_deathstrike_enabled
		DamagePercentConverted: 600
	GrantConditionOnAttack@runes_1:
		ArmamentNames: dnd, howling, winter, heartstrike
		Condition: use_1_runes
		RevokeDelay: 3
	GrantConditionOnAttack@runes_2:
		ArmamentNames: obliterate, obliteratekm, marrowrend
		Condition: use_2_runes
		RevokeDelay: 3
	GrantConditionOnAttack@ability:
		ArmamentNames: froststrike, dnd, howling, winter, heartstrike
		Condition: ability
		RevokeDelay: 20
	GrantConditionOnAttack@abilitylong:
		ArmamentNames: obliterate, obliteratekm, frostwyrm, marrowrend
		Condition: ability
		RevokeDelay: 30
	GrantConditionOnAttack@abilitydnd:
		RequiresCondition: !blood_spec
		ArmamentNames: dnd
		Condition: dnd_cooldown
		RevokeDelay: 300
	GrantConditionOnAttack@abilitydeathstrike:
		RequiresCondition: blood_spec
		ArmamentNames: deathstrike
		Condition: deathstrike_cooldown
		RevokeDelay: 35
	GrantConditionOnAttack@abilitydnd_blood:
		ArmamentNames: dnd
		Condition: dnd_cooldown
		RevokeDelay: 250
	GrantConditionOnAttack@abilityimmobile:
		ArmamentNames: howling
		Condition: immobile
		RevokeDelay: 15
	GrantConditionOnAttack@abilityimmobile2:
		ArmamentNames: frostwyrm
		Condition: immobile
		RevokeDelay: 50
	GrantConditionOnAttack@abilityhowl:
		ArmamentNames: howling, howlingrime
		Condition: howlingblast_cooldown
		RevokeDelay: 150
	GrantConditionOnAttack@abilityhowl2:
		ArmamentNames: howlingrime
		Condition: rime_cooldown
		RevokeDelay: 75
	GrantConditionOnAttack@abilitywinter:
		ArmamentNames: winter
		Condition: remorselesswinter
		RevokeDelay: 250
	GrantConditionOnAttack@abilitywinter2:
		ArmamentNames: winter
		Condition: remorselesswinter_cooldown
		RevokeDelay: 500
	GrantConditionOnAttack@abilityfrostwyrm:
		ArmamentNames: frostwyrm
		Condition: frostwyrm_cooldown
		RevokeDelay: 75
	GrantConditionOnAttack@abilitymarrowrend:
		RequiresCondition: !boneshield_upgraded
		ArmamentNames: marrowrend
		Condition: boneshield_enabled
		RevokeDelay: 250
	GrantConditionOnAttack@abilitymarrowrend2:
		RequiresCondition: !boneshield_upgraded
		ArmamentNames: marrowrend
		Condition: marrowrend_bones
		RevokeDelay: 10
	GrantConditionOnAttack@abilitydeathmarrowbones:
		RequiresCondition: boneshield_upgraded
		ArmamentNames: deathstrike, marrowrend
		Condition: boneshield_enabled
		RevokeDelay: 375
	GrantConditionOnAttack@abilitydeathmarrowbones2:
		RequiresCondition: boneshield_upgraded
		ArmamentNames: deathstrike, marrowrend
		Condition: marrowrend_bones
		RevokeDelay: 12
	GrantConditionOnAttack@abilitypillar:
		ArmamentNames: pillar
		Condition: pillar
		RevokeDelay: 300
	GrantConditionOnAttack@abilitypillar2:
		ArmamentNames: pillar
		Condition: pillar_cooldown
		RevokeDelay: 1125
	ProvidesPrerequisite@frostwyrm:
		Prerequisite: frostwyrm.used
		RequiresCondition: frostwyrm_cooldown
	GrantConditionOnPrerequisite@frostwyrm_ready:
		Condition: frostwyrm_enabled
		Prerequisites: frostwyrm.ready, phaerah.frostspec
	GrantConditionOnAttack@deathstrike:
		ArmamentNames: deathstrike
		Condition: deathstrike
		RevokeDelay: 3
	AmmoPool@runes:
		Name: runes
		InitialAmmo: 6
		Ammo: 6
		AmmoCondition: runes
		Armaments: obliterate, obliteratekm, howling, dnd, winter, heartstrike, marrowrend
	AmmoPool@runicpower:
		Name: runicpower
		InitialAmmo: 50
		Ammo: 100
		AmmoCondition: runicpower
		Armaments: froststrike, deathstrike
	AmmoPool@bloodboil:
		Name: bloodboil
		InitialAmmo: 2
		Ammo: 2
		AmmoCondition: bloodboil
		Armaments: bloodboil
	ReloadAmmoPool@runes1:
		RequiresCondition: !runic_mastery_enabled
		Delay: 250
		AmmoPool: runes
	ReloadAmmoPool@runes2:
		RequiresCondition: !runic_mastery_enabled && runes < 5
		Delay: 250
		AmmoPool: runes
	ReloadAmmoPool@runes3:
		RequiresCondition: !runic_mastery_enabled && runes < 4
		Delay: 250
		AmmoPool: runes
	ReloadAmmoPool@runes1_mastery:
		RequiresCondition: runic_mastery_enabled
		Delay: 175
		AmmoPool: runes
	ReloadAmmoPool@runes2_mastery:
		RequiresCondition: runic_mastery_enabled && runes < 5
		Delay: 175
		AmmoPool: runes
	ReloadAmmoPool@runes3_mastery:
		RequiresCondition: runic_mastery_enabled && runes < 4
		Delay: 175
		AmmoPool: runes
	ReloadAmmoPool@use_1_runes:
		RequiresCondition: use_1_runes
		AmmoPool: runicpower
		Count: 10
		Delay: 2
	ReloadAmmoPool@use_2_runes:
		RequiresCondition: use_2_runes
		AmmoPool: runicpower
		Count: 20
		Delay: 2
	ReloadAmmoPool@passiverunic:
		RequiresCondition: runic_attenuation_enabled && runicpower < 30
		AmmoPool: runicpower
		Count: 1
		Delay: 35
	ReloadAmmoPool@refund_1_runes:
		RequiresCondition: refund_1_runes || obliteration
		AmmoPool: runes
		Count: 1
		Delay: 2
	ReloadAmmoPool@bloodboil:
		Delay: 125
		AmmoPool: bloodboil
	WithAmmoPipsDecoration@runes:
		RequiresCondition: frost_spec
		AmmoPools: runes
		PipCount: 6
		EmptySequence: pip-oil
		FullSequence: pip-blue
		PipStride: 8,0
		Margin: 6, 5
	WithAmmoPipsDecoration@runesred:
		RequiresCondition: blood_spec
		AmmoPools: runes
		PipCount: 6
		EmptySequence: pip-oil
		FullSequence: pip-red
		PipStride: 8,0
		Margin: 6, 5
	WithAmmoPipsDecoration@runicpower:
		AmmoPools: runicpower
		PipCount: 22
		EmptySequence: bar-empty
		FullSequence: bar-gray
		Margin: 6, 1
	WithMuzzleOverlay:
	ExplodeWeapon@runicdrain:
		RequiresCondition: (!in_combat && !runic_attenuation_enabled) || (runic_attenuation_enabled && runicpower > 30)
		AmmoPoolName: runicpower
		Weapon: DKDrainRunicPower
	GrantPeriodicConditionOnEvent@deathsadvance:
		RequiresCondition: deathsadvance_enabled && !march_enabled
		Condition: deathsadvance
		Triggers: Damage, Attack
		ActiveDuration: 200
		CooldownDuration: 200
	GrantPeriodicConditionOnEvent@deathsadvance_upgraded:
		RequiresCondition: deathsadvance_enabled && march_enabled
		Condition: deathsadvance
		Triggers: Damage, Attack
		ActiveDuration: 275
		CooldownDuration: 175
	AmbientSound@deathsadvance:
		RequiresCondition: deathsadvance
		SoundFiles: vulpspeed1.ogg, vulpspeed2.ogg
		Interval: 9000
	Contrail: 
		RequiresCondition: deathsadvance
		StartColor: 8C00B3B5
		StartColorUsePlayerColor: false
		StartWidth: 400
		StartColorAlpha: 96
		TrailLength: 33
		Offset: -330,0,0
		ZOffset: -1
	SpeedMultiplier@deathsadvance:
		RequiresCondition: deathsadvance && !march_enabled
		Modifier: 120
	SpeedMultiplier@deathsadvance_march:
		RequiresCondition: deathsadvance && march_enabled
		Modifier: 135
	SpeedMultiplier@cyrostrike:
		RequiresCondition: cyrostrikeeffect && !deathsadvance
	SpeedMultiplier@cyrostream:
		RequiresCondition: (cyrostreameffect >= 8) && !deathsadvance
	SpeedMultiplier@cyrostream2:
		RequiresCondition: ((cyrostreameffect >= 3) && (cyrostreameffect < 8)) && !deathsadvance
	SpeedMultiplier@ensnare:
		RequiresCondition: queen_ensnare && !gdi_suits && !deathsadvance
	GrantPeriodicConditionOnEvent@lichborne:
		RequiresCondition: lichborne_enabled && blood_spec
		Condition: lichborne
		Triggers: Damage, Attack
		ActiveDuration: 250
		CooldownDuration: 750
	WithColoredOverlay@lichborne:
		RequiresCondition: lichborne
		Color: 8E8B8152
	DamageMultiplier@lichborne:
		RequiresCondition: lichborne
		Modifier: 90
	GrantConditionOnDamage: 
		Condition: hurt
		ValidRelationships: Ally, Neutral, Enemy
		Duration: 50
	GrantConditionOnDamage@fallback: 
		Condition: fallback
		ValidRelationships: Ally, Neutral, Enemy
		Duration: 375
	AmbientSound@talky:
		RequiresCondition: !healed
		SoundFiles: vulpsilly1.ogg,vulpsilly2.ogg,vulpsilly3.ogg,vulpsilly4.ogg,vulpsilly5.ogg,vulpsilly6.ogg,vulpsilly7.ogg,baud.aud,baud.aud,baud.aud
		Delay: 1500, 4500
		Interval: 3000, 4500
	AmbientSound@healing:
		RequiresCondition: healed && !fullhealth && !active_stimpack
		SoundFiles: vulpbeg.ogg, vulpsigh.ogg, vulpcheer.ogg
		Delay: 25, 50
		Interval: 1000
	AmbientSound@healing2:
		RequiresCondition: healed && fullhealth && !active_stimpack
		SoundFiles: vulpkiss.ogg, vulpimpressed.ogg, vulptimetofight.ogg
		Delay: 15
		Interval: 1000
	AmbientSound@hurt:
		RequiresCondition: hurt && highhp
		Interval: 50,75
		SoundFiles: vulpwound01.ogg, vulpwound02.ogg, vulpwound03.ogg, vulpwound04.ogg, vulpwound05.ogg, vulpwound06.ogg, vulpwound07.ogg, vulpwound08.ogg, vulpwound09.ogg, vulpwound10.ogg
	AmbientSound@hurt2:
		RequiresCondition: hurt && lowhp 
		Interval: 50,75
		SoundFiles: vulpwoundcrit01.ogg, vulpwoundcrit02.ogg, vulpwoundcrit03.ogg, vulpwoundcrit04.ogg, vulpwoundcrit05.ogg
	AmbientSound@hurt3:
		RequiresCondition: fallback && lowhp && !in_combat
		Interval: 9000
		SoundFiles: vulpfallback.ogg, vulpfallback2.ogg
	AmbientSound@combat:
		RequiresCondition: in_combat
		Interval: 9000
		SoundFiles: vulpcharge01.ogg, vulpcharge02.ogg, vulpcharge03.ogg, vulpcharge04.ogg, vulpcharge05.ogg
	GrantConditionOnHealthPercentage:
		MaxHP: 101
		MinHP: 100
		RequiresCondition: healed
		Condition: fullhealth
	GrantConditionOnHealthPercentage@high:
		MaxHP: 80
		MinHP: 40
		Condition: highhp
	GrantConditionOnHealthPercentage@low:
		MaxHP: 40
		MinHP: 0
		Condition: lowhp
	GrantConditionOnHealthPercentage@critical:
		MaxHP: 15
		MinHP: 0
		Condition: criticalhp
	GrantConditionOnAttack@killingmachine: #HERO UPGRADES: Killing Machine
		RequiresCondition: killingmachine_enabled && frost_spec
		ArmamentNames: basic1, basic2
		Condition: killingmachine_roll
		RevokeDelay: 2
	GrantRandomPeriodicCondition@killingmachineroll:
		RequiresCondition: killingmachine_roll
		Conditions: x,x,x,x,killingmachine_rolled
		CooldownDuration: 2
		ActiveDuration: 2
		StartsGranted: true
	FireWarheads@killingmachine:
		RequiresCondition: killingmachine_rolled || obliteration
		Interval: 25
		Weapons: DKGrantKillingMachine
	ExternalCondition@killingmachine:
		Condition: killingmachine
	GrantConditionOnAttack@killingmachinespend:
		RequiresCondition: killingmachine && !obliteration_enabled
		ArmamentNames: obliteratekm
		Condition: killingmachine_cooldown
		RevokeDelay: 75
	WithDecoration@killingmachine:
		RequiresCondition: (killingmachine && !killingmachine_cooldown)
		Image: vulpkmicon
		Sequence: idle
		Position: Top
		Margin: 0, 24
	GrantConditionOnAttack@runicempowerment: # Runic Empowerment
		RequiresCondition: runicempowerment_enabled
		ArmamentNames: froststrike, deathstrike
		Condition: refund_1_runes
		RevokeDelay: 3
	GrantConditionOnAttack@rime: #HERO UPGRADES: Rime
		RequiresCondition: rime_enabled && frost_spec
		ArmamentNames: froststrike
		Condition: rime
		RevokeDelay: 149
	GrantConditionOnPrerequisite@km: # Killing Machine
		Prerequisites: phaerah.tier1.killingmachine
		Condition: killingmachine_enabled
	GrantConditionOnPrerequisite@runicmastery:
		Prerequisites: phaerah.tier1.runicmastery
		Condition: runic_mastery_enabled
	GrantConditionOnPrerequisite@runicempowerment:
		Prerequisites: phaerah.tier1.runicempowerment
		Condition: runicempowerment_enabled
	GrantConditionOnPrerequisite@leech1:
		Prerequisites: phaerah.tier1.leech
		Condition: leech1_enabled
	GrantConditionOnPrerequisite@march: # March of the Damned
		Prerequisites: phaerah.tier2.march
		Condition: march_enabled
	GrantConditionOnPrerequisite@leech2:
		Prerequisites: phaerah.tier2.leech
		Condition: leech2_enabled
	GrantConditionOnPrerequisite@rime:
		Prerequisites: phaerah.tier2.rime
		Condition: rime_enabled
	GrantConditionOnPrerequisite@veteran1:
		Prerequisites: phaerah.tier2.veteran
		Condition: vet1_enabled
	GrantConditionOnPrerequisite@veteran2:
		Prerequisites: phaerah.tier3.veteran
		Condition: vet2_enabled
	DamageMultiplier@vet1:
		RequiresCondition: vet1_enabled && !vet2_enabled
		Modifier: 93
	DamageMultiplier@vet2:
		RequiresCondition: vet2_enabled
		Modifier: 86
	GrantConditionOnPrerequisite@deathstrike:
		Prerequisites: phaerah.tier3.deathstrike, phaerah.bloodspec
		Condition: improved_deathstrike_enabled
	GrantConditionOnPrerequisite@icecold:
		Prerequisites: phaerah.tier3.icecold, phaerah.frostspec
		Condition: ice_cold_enabled
	DamageTypeDamageMultiplier@icecold:
		RequiresCondition: ice_cold_enabled
		DamageTypes: FireDeath, TiberiumDeath
		Modifier: 67
	GrantConditionOnPrerequisite@runicattenuation:
		Prerequisites: phaerah.tier3.runicattenuation
		Condition: runic_attenuation_enabled
	GrantConditionOnPrerequisite@arcticassault:
		Prerequisites: phaerah.tier3.arcticassault, phaerah.frostspec
		Condition: arcticassault_enabled
	GrantConditionOnAttack@arcticassault: #HERO UPGRADES: ARCTIC ASSAULT
		RequiresCondition: arcticassault_enabled
		ArmamentNames: obliteratekm
		Condition: arcticassault
		RevokeDelay: 2
	ExplodeWeapon@arcticassault:
		RequiresCondition: arcticassault
		Weapon: DKArcticAssault
	GrantConditionOnPrerequisite@boneshield:
		Prerequisites: phaerah.tier4.boneshield, phaerah.bloodspec
		Condition: boneshield_upgraded
	GrantConditionOnPrerequisite@pillar:
		Prerequisites: phaerah.tier4.pillar, phaerah.frostspec
		Condition: pillar_enabled
	WithDecoration@pillar:
		RequiresCondition: pillar
		Image: vulpkmicon
		Sequence: rune
		Position: Top
		Margin: 0, -24
		ValidRelationships: None, Ally, Enemy, Neutral
		RequiresSelection: false
	FirepowerMultiplier@pillar:
		Modifier: 120
	GrantConditionOnPrerequisite@necropolis:
		Prerequisites: phaerah.tier4.necropolis
		Condition: necropolis_enabled
	GrantConditionOnHealthPercentage@necropolis:
		RequiresCondition: necropolis_enabled
		MaxHP: 30
		Condition: necropolis
	DamageMultiplier@necropolis:
		RequiresCondition: necropolis
		Modifier: 70
	GrantConditionOnPrerequisite@iceytorrent:
		Prerequisites: phaerah.tier4.iceytorrent, phaerah.frostspec
		Condition: iceytorrent_enabled
	GrantConditionOnAttack@iceytorrent: #HERO UPGRADES: ICEY DEATH TORRENT
		RequiresCondition: iceytorrent_enabled
		ArmamentNames: basic1, basic2
		Condition: iceytorrent_roll
		RevokeDelay: 2
	GrantRandomPeriodicCondition@iceytorrentroll:
		RequiresCondition: iceytorrent_roll
		Conditions: x,x,x,x,iceytorrent_rolled
		CooldownDuration: 2
		ActiveDuration: 2
		StartsGranted: true
	ExplodeWeapon@iceytorrent:
		RequiresCondition: iceytorrent_rolled
		Weapon: DKIceyDeathTorrent
	GrantConditionOnPrerequisite@runeweapon:
		Prerequisites: phaerah.tier5.runeweapon, phaerah.frostspec
		Condition: runeweapon_enabled
	GrantConditionOnAttack@runeweapon: #HERO UPGRADES: EMPOWER RUNE WEAPON
		RequiresCondition: runeweapon_enabled
		ArmamentNames: basic1, basic2, obliterate, obliteratekm, deathstrike, froststrike
		Condition: runeweapon_roll
		RevokeDelay: 2
	GrantRandomPeriodicCondition@runeweaponroll:
		RequiresCondition: runeweapon_roll
		Conditions: x,x,x,x,x,x,runeweapon_rolled
		CooldownDuration: 2
		ActiveDuration: 2
		StartsGranted: true
	ExplodeWeapon@runeweapon:
		RequiresCondition: runeweapon_rolled
		Weapon: DKRuneWeaponFreeze
	GrantConditionOnPrerequisite@blooddraw:
		Prerequisites: phaerah.tier5.blooddraw, phaerah.bloodspec
		Condition: blooddraw_enabled
	GrantConditionOnHealthPercentage@blooddraw:
		RequiresCondition: blooddraw_enabled && !blooddraw_cooldown
		MaxHP: 30
		Condition: blooddraw
	FireWarheads@blooddraw:
		RequiresCondition: blooddraw
		Interval: 900
		Weapons: DKBloodDraw
	ExternalCondition@blooddraw:
		Condition: blooddraw_cooldown
	GrantConditionOnPrerequisite@nullmagic:
		Prerequisites: phaerah.tier5.nullmagic
		Condition: nullmagic_enabled
	DamageTypeDamageMultiplier@nullmagic:
		RequiresCondition: nullmagic_enabled
		DamageTypes: ElectricityDeath, FireDeath, TiberiumDeath, ExplosionDeath
		Modifier: 80
	GrantConditionOnPrerequisite@obliteration:
		Prerequisites: phaerah.tier5.obliteration
		Condition: obliteration_enabled
	GrantConditionOnAttack@obliteration:
		RequiresCondition: obliteration_enabled
		ArmamentNames: froststrike, howling, howlingrime
		Condition: obliteration
		RevokeDelay: 3
	ProvidesPrerequisite@combat:
		RequiresCondition: in_combat
		Prerequisite: phaerah.combat
	GrantConditionOnPrerequisite@blood_spec:
		Prerequisites: phaerah.bloodspec
		Condition: blood_spec
	GrantConditionOnPrerequisite@frost_spec:
		Prerequisites: phaerah.frostspec
		Condition: frost_spec
	WithDecoration@blood:
		RequiresCondition: blood_spec
		Image: pips
		Sequence: shield
		Palette: effect
		ValidRelationships: None,Neutral,Enemy,Ally
		Position: BottomLeft
		Margin: 5, 6
	WithDecoration@frost:
		RequiresCondition: frost_spec
		Image: pips
		Sequence: sword
		Palette: effect
		ValidRelationships: None,Neutral,Enemy,Ally
		Position: BottomLeft
		Margin: 5, 6
	-WithDeathAnimation:
	GrantConditionOnPrerequisite@resurrection:
		Prerequisites: raisephae.ready
		Condition: raise_ready
	GivesExperienceMultiplier@res:
		RequiresCondition: raise_ready
		Modifier: 25
	SpawnActorOnDeath@corpse:
		RequiresCondition: !raise_ready
		Actor: PHAEDK.Husk
	SpawnActorOnDeath@raise:
		RequiresCondition: raise_ready
		Actor: PHAEDK.HuskRes
	DeathSounds@NORMAL:
		RequiresCondition: !raise_ready
		VolumeMultiplier: 0.75
	DeathSounds@BURNED:
		RequiresCondition: !raise_ready
		VolumeMultiplier: 0.75
	DeathSounds@ZAPPED:
		RequiresCondition: !raise_ready
		VolumeMultiplier: 0.75
	TransformOnCondition@level:
		RequiresCondition: force_deploy
		IntoActor: PHAEDK.Hero1
		ForceHealthPercentage: 100
	AmbientSound@raynorlevel:
		SoundFiles: vulpvictory01.ogg, vulpvictory02.ogg, vulpvictory03.ogg
		Interval: 9000
		RequiresCondition: milestone

PHAEDK.Hero1:
	Inherits: PHAEDK.Hero0
	Inherits@heroTier: ^HeroTier1
	Buildable:
		Prerequisites: ~barracks, !active.phaerah, ~!hero.tier2, ~hero.tier1, ~hero.phaerah
		BuildDuration: 1500
	Tooltip:
		Name: actor-phaedk-hero.tier1
	Health:
		HP: 150000
	TransformOnCondition@level:
		IntoActor: PHAEDK.Hero2
	FirepowerMultiplier@1:
		Modifier: 100
	GrantCondition@deathsadvance:
		Condition: deathsadvance_enabled
	GrantCondition@dnd:
		Condition: dnd_enabled
	ConvertsDamageToHealth@deathstrike:
		DamagePercentConverted: 550
	ConvertsDamageToHealth@deathstrikeimproved:
		DamagePercentConverted: 650

PHAEDK.Hero2:
	Inherits: PHAEDK.Hero1
	Inherits@heroTier: ^HeroTier2
	Buildable:
		Prerequisites: ~barracks, !active.phaerah, ~!hero.tier3, ~hero.tier2, ~hero.phaerah
	Tooltip:
		Name: actor-phaedk-hero.tier2
	Health:
		HP: 175000
	TransformOnCondition@level:
		IntoActor: PHAEDK.Hero3
	FirepowerMultiplier@1:
		Modifier: 100
	GrantCondition@remorselesswinter_enabled:
		Condition: remorselesswinter_enabled
	GrantCondition@lichborne_enabled:
		Condition: lichborne_enabled
	ConvertsDamageToHealth@deathstrike:
		DamagePercentConverted: 600
	ConvertsDamageToHealth@deathstrikeimproved:
		DamagePercentConverted: 700

PHAEDK.Hero3:
	Inherits: PHAEDK.Hero2
	Inherits@heroTier: ^HeroTier3
	Buildable:
		Prerequisites: ~barracks, !active.phaerah, ~!hero.tier4, ~hero.tier3, ~hero.phaerah
	Tooltip:
		Name: actor-phaedk-hero.tier3
	Health:
		HP: 200000
	TransformOnCondition@level:
		IntoActor: PHAEDK.Hero4
	FirepowerMultiplier@1:
		Modifier: 100
	ConvertsDamageToHealth@deathstrike:
		DamagePercentConverted: 650
	ConvertsDamageToHealth@deathstrikeimproved:
		DamagePercentConverted: 750

PHAEDK.Hero4:
	Inherits: PHAEDK.Hero3
	Inherits@heroTier: ^HeroTier4
	Buildable:
		Prerequisites: ~barracks, !active.phaerah, ~!hero.tier5, ~hero.tier4, ~hero.phaerah
		BuildDuration: 3000
	Tooltip:
		Name: actor-phaedk-hero.tier4
	Health:
		HP: 225000
	TransformOnCondition@level:
		IntoActor: PHAEDK.Hero5
	FirepowerMultiplier@1:
		Modifier: 100
	ConvertsDamageToHealth@deathstrike:
		DamagePercentConverted: 700
	ConvertsDamageToHealth@deathstrikeimproved:
		DamagePercentConverted: 800
	PeriodicConditionActiveMultiplier@tier4: 
		ActiveModifier: 120
	PeriodicConditionCooldownMultiplier@tier4: 
		CooldownModifier: 80

PHAEDK.Hero5:
	Inherits: PHAEDK.Hero4
	Inherits@heroTier: ^HeroTier5
	Buildable:
		Prerequisites: ~barracks, !active.phaerah, ~hero.tier5, ~hero.phaerah
		BuildDuration: 4500
	Tooltip:
		Name: actor-phaedk-hero.tier5
	Health:
		HP: 250000
	-TransformOnCondition@level:
	-GrantPeriodicCondition@deploy:
	-GainsExperienceMultiplier@1:
	-AmbientSound@raynorlevel:
	FirepowerMultiplier@1:
		Modifier: 100
	GrantDelayedCondition@freebie:
		Condition: give_freebie
		Delay: 50
	GrantDelayedCondition@freebie2:
		Condition: give_freebie2
		Delay: 25
	ExternalCondition@resurrection:
		Condition: resurrected
	FreeActor@frostwyrm:
		RequiresCondition: frost_spec && !give_freebie && give_freebie2 && !resurrected
		Actor: frostwyrm.ready
	FreeActor@resurrection:
		RequiresCondition: blood_spec && !give_freebie && give_freebie2 && !resurrected
		Actor: raisephae.ready
	ConvertsDamageToHealth@deathstrike:
		DamagePercentConverted: 750
	ConvertsDamageToHealth@deathstrikeimproved:
		DamagePercentConverted: 850

PHAEDK.DND:
	Inherits: MINE_DUMMY
	Targetable:
		TargetTypes: Ground, NoAutoTarget, NoAITarget
	KillsSelf:
		Delay: 250
		RemoveInstead: true
	RenderSprites:
		Image: explosion
		Palette: effect
	WithSpriteBody:
		StartSequence: vulpdnd
		Sequence: vulpdnd_loop
	FireWarheads:
		Weapons: DKDNDDamage
		Interval: 25
	TerrainLightSource:
		Range: 4c0
		Intensity: 0.2
		RedTint: -0.25
		GreenTint: -0.5
		BlueTint: -0.5

PHAEDK.Husk:
	Inherits: ^Husk
	-CaptureManager:
	-Capturable:
	-TransformOnCapture:
	-InfiltrateForTransform:
	-WithIdleOverlay@Burns:
	-WithColoredOverlay@IDISABLE:
	Tooltip:
		Name: actor-phaedk-hero.husk
	RenderSprites:
		Image: vulperadk
	GrantDelayedCondition:
		Delay: 47
		Condition: anim
	WithFacingSpriteBody:
		PauseOnCondition: anim
		Sequence: die
	Crushable:
		CrushClasses: infantry, husk

PHAEDK.HuskRes:
	Inherits: PHAEDK.Husk
	Health:
		HP: 100000
	ProvidesPrerequisite:
		Prerequisite: raisephae.used
	GrantDelayedCondition:
		Delay: 25
	WithFacingSpriteBody:
		RequiresCondition: !anim
		Sequence: die
	WithFacingSpriteBody@2:
		RequiresCondition: anim
		Sequence: aoe
	GrantDelayedCondition@res:
		Delay: 35
		Condition: res
	FireWarheads@blood:
		Weapons: DKBloodboil
		Interval: 15
	FireWarheads@resurructed:
		Weapons: DKResurrectCondition
		Interval: 40
	FireWarheads@lightning:
		Weapons: LightningZap
		StartCooldown: 32
		Interval: 40
	TransformOnCondition:
		RequiresCondition: res
		IntoActor: PHAEDK.Hero5
		ForceHealthPercentage: 60
	RevealsShroud:
		Range: 3c0