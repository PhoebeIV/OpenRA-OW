MINE_DUMMY:
	Inherits@1: ^SpriteActor
	HitShape:
	Interactable:
	HiddenUnderShroud:
	RenderSprites:
		Palette: terrain
		Image: MINE
	Targetable:
		TargetTypes: UpgradeThing, Ground
	Health:
		HP: 9000000
	RevealsShroud:
		Range: 1c0
	Immobile:
		OccupiesSpace: false
	OwnerLostAction:
		Action: Dispose
	ExternalCondition@devlist:
		Condition: DevActorList
	#WithSpriteBody:

MINE:
	-Building:
	RenderSprites:
		Image: MINE
	HiddenUnderShroud:
		AlwaysVisibleRelationships: Ally, Enemy, Neutral
		Type: CenterPosition
	HitShape:
	Targetable:
		TargetTypes: UpgradeThing, Ground, OreMine, NoAITarget, NoAutoTarget
	Health:
		HP: 9000000
	RevealsShroud:
		Range: 12c0
	Immobile:
		OccupiesSpace: false
	ChangesTerrain:
		TerrainType: Oremine
	ExternalCondition@creep:
		Condition: creepgen
	FireWarheads@1:
		RequiresCondition: creepgen
		Weapons: CreepPreventer
		Interval: 50
	Interactable:
		Bounds: 1024, 1024
	GrantConditionOnPrerequisite@gems:
		Prerequisites: techlevel.gems
		Condition: gems
	GrantConditionOnPrerequisite@tiberim:
		Prerequisites: techlevel.monoliths
		Condition: dotransform
	SpawnActorOnDeath@gems:
		RequiresCondition: gems
		Actor: GMINE
		DeathType: gems
	KillsSelf@gems:
		Delay: 25
		RequiresCondition: gems
		DamageTypes: gems
	FireWarheadsOnDeath@gems:
		DeathTypes: gems
		Weapon: OreMineExplosion
		EmptyWeapon: OreMineExplosion
	GrantRandomCondition@tibtree:
		Conditions: tibtree,none,none,none,none,none,none,none,none,none,none,none,none,none,none,none,none,none,none
	GrantRandomCondition@infectable:
		Conditions: infectable,lessinfectable
	ExternalCondition@growth:
		Condition: growth
	ExternalCondition@dotransform:
		Condition: dotransform
	GrantPeriodicCondition@aaa:
		RequiresCondition: (lessinfectable && (growth > 50)) || (infectable && (growth > 30)) || tibtree && !notib
		Condition: dotransform
		CooldownDuration: 1500, 4500
		ActiveDuration: 50
	SpawnActorOnDeath:
		RequiresCondition: dotransform
		Actor: tmonolith
		SkipMakeAnimations: false
	KillsSelf@transform:
		RequiresCondition: dotransform
		Delay: 1
	ExternalCondition@tibtree:
		Condition: tibtree
	ProximityExternalCondition@tree:
		RequiresCondition: !notib
		Condition: near_tree
		Range: 2c0
	GrantConditionOnPrerequisite@notib:
		Prerequisites: techlevel.tibremove
		Condition: notib

GMINE:
	HitShape:
	SeedsResource:
		MaxRange: 8
	Health:
		HP: 9000000
	Targetable:
		TargetTypes: UpgradeThing, Ground, OreMine, NoAITarget, NoAutoTarget
	ExternalCondition@creep:
		Condition: creepgen
	FireWarheads@1:
		RequiresCondition: creepgen
		Weapons: CreepPreventer
		Interval: 50
	GrantConditionOnPrerequisite@gems:
		Prerequisites: techlevel.gems
		Condition: gems
	GrantConditionOnPrerequisite@tiberim:
		Prerequisites: techlevel.monoliths
		Condition: dotransform
	SeedsResource@gems2:
		ResourceType: Gems
		Interval: 125
		MaxRange: 10
	GrantRandomCondition@tibtree:
		Conditions: tibtree,none,none,none,none,none,none,none,none,none,none,none,none,none
	ExternalCondition@growth:
		Condition: growth
	GrantPeriodicCondition@aaa:
		RequiresCondition: (growth > 45) || tibtree && !notib
		Condition: dotransform
		CooldownDuration: 1500, 4500
		ActiveDuration: 50
	SpawnActorOnDeath:
		RequiresCondition: dotransform
		Actor: tmonolith.blue
		SkipMakeAnimations: false
	KillsSelf@transform:
		RequiresCondition: dotransform
		Delay: 1
	ExternalCondition@tibtree:
		Condition: tibtree
	ProximityExternalCondition@tree:
		RequiresCondition: !notib
		Condition: near_tree
		Range: 2c0
	GrantConditionOnPrerequisite@notib:
		Prerequisites: techlevel.tibremove
		Condition: notib

MINE.CR:
	Inherits: MINE
	HitShape:
	RenderSprites:
		Image: mine
	Targetable@attackable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure
	Health:
		HP: 500000
	Armor:
		Type: Wood
	ShakeOnDeath:
	FireWarheadsOnDeath:
		Weapon: DemoTrapExplosion2
		EmptyWeapon: DemoTrapExplosion2
	-ExternalCondition@creep:

GMINE.CR:
	Inherits: GMINE
	HitShape:
	RenderSprites:
		Image: gmine
	Targetable@attackable:
		TargetTypes: GroundActor, C4, DetonateAttack, Structure
	Health:
		HP: 500000
	Armor:
		Type: Wood
	ShakeOnDeath:
	FireWarheadsOnDeath:
		Weapon: DemoTrapExplosion2
		EmptyWeapon: DemoTrapExplosion2
	-ExternalCondition@creep:

CAMERA:
	Interactable:
	EditorOnlyTooltip:
		Name: actor-camera-name
	WithSpriteBody:
	RenderSpritesEditorOnly:
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	Immobile:
		OccupiesSpace: false
	RevealsShroud:
		Range: 10c0
		Type: CenterPosition
	MapEditorData:
		Categories: System

CAMERA.small:
	Interactable:
	EditorOnlyTooltip:
		Name: actor-camera-small-name
	WithSpriteBody:
	RenderSpritesEditorOnly:
		Image: camera
	ClassicFacingBodyOrientation:
		QuantizedFacings: 1
	Immobile:
		OccupiesSpace: false
	Health:
		HP: 100000
	HitShape:
	RevealsShroud:
		Range: 6c0
		Type: CenterPosition
	MapEditorData:
		Categories: System

camera.spyplane:
	Inherits: CAMERA
	DetectCloaked:
		Range: 10c0

SPLIT3:
	Inherits: SPLIT3.CR
	-FireWarheads@changeowner: 
	-FireWarheads@changeownerback:
	-FireWarheads@changeownerbackstructure:
	-Targetable@tree:
	-Targetable@creeps:
	Targetable@attackable:
		TargetTypes: TibTree, Ground, UpgradeThing, OreMine, NoAITarget, NoAutoTarget
	DamageMultiplier@invince:
		Modifier: 0

SPLIT3.CR:
	Inherits: ^TibTree
	HitShape:
	SeedsResource:
		ResourceType: Tiberium
		Interval: 65
		MaxRange: 500
	SeedsResource@burst:
		RequiresCondition: burst
		ResourceType: Tiberium
		Interval: 3
		MaxRange: 500
	GrantPeriodicCondition@burst:
		Condition: burst
		CooldownDuration: 750, 1500
		ActiveDuration: 50, 80
	WithSpriteBody:
		RequiresCondition: !burst && !making
	WithSpriteBody@burst:
		RequiresCondition: burst
		StartSequence: active
	WithSpriteBody@make:
		RequiresCondition: making
		StartSequence: make
	GrantTimedCondition:
		Condition: making
	ExternalCondition@stack:
		Condition: growth
	ExternalCondition@dotransform:
		Condition: dotransform
	ExplodeWeapon@burst:
		RequiresCondition: burst
		Weapon: TibTreeBurst
	GrantRandomCondition@infectable:
		Conditions: infectable,lessinfectable,moreinfectable
	SpawnActorOnDeath:
		RequiresCondition: (lessinfectable && (growth > 150)) || (infectable && (growth > 120)) || (moreinfectable && (growth > 90)) || dotransform
		Actor: split4
		SkipMakeAnimations: false
	KillsSelf@transform:
		RequiresCondition: (lessinfectable && (growth > 150)) || (infectable && (growth > 120)) || (moreinfectable && (growth > 90)) || dotransform
		Delay: 1
	RenderSprites:
		Image: split3
		PlayerPalette: dawn
	Targetable@attackable:
		TargetTypes: GroundActor, Structure
	Health:
		HP: 500000
	Armor:
		Type: Wood
	ShakeOnDeath:
	FireWarheadsOnDeath:
		Weapon: DemoTrapExplosion2
		EmptyWeapon: DemoTrapExplosion2
	SpawnActorOnDeath:
		Actor: split4.cr
	ChangesTerrain:
		TerrainType: TibTree

SPLIT4:
	Inherits: SPLIT4.CR
	-FireWarheads@changeowner: 
	-FireWarheads@changeownerback:
	-FireWarheads@changeownerbackstructure:
	-Targetable@tree:
	-Targetable@creeps:
	Targetable@attackable:
		TargetTypes: TibTree, Ground, UpgradeThing, OreMine, NoAITarget, NoAutoTarget
	DamageMultiplier@invince:
		Modifier: 0

SPLIT4.CR:
	Inherits: ^TibTree
	HitShape:
	SeedsResource:
		ResourceType: BlueTiberium
		Interval: 65
		MaxRange: 500
	SeedsResource@burst:
		RequiresCondition: burst
		ResourceType: BlueTiberium
		Interval: 3
		MaxRange: 500
	GrantPeriodicCondition@burst:
		Condition: burst
		CooldownDuration: 750, 1500
		ActiveDuration: 50, 80
	WithSpriteBody:
		RequiresCondition: !burst && !making
	WithSpriteBody@burst:
		RequiresCondition: burst
		StartSequence: active
	WithSpriteBody@make:
		RequiresCondition: making
		StartSequence: make
	GrantTimedCondition:
		Condition: making
	ExplodeWeapon@burst:
		RequiresCondition: burst
		Weapon: TibTreeBlueBurst
	RenderSprites:
		Image: split3
		PlayerPalette: dawn
	Targetable@attackable:
		TargetTypes: GroundActor, Structure
	Health:
		HP: 500000
	Armor:
		Type: Wood
	ShakeOnDeath:
	FireWarheadsOnDeath:
		Weapon: DemoTrapExplosion2
		EmptyWeapon: DemoTrapExplosion2
	ChangesTerrain:
		TerrainType: TibTreeBlue

TMONOLITH:
	Inherits: ^TibTree
	Inherits@shape: ^1x1Shape
	Health:
		HP: 500000
	Armor:
		Type: Wood
	Targetable:
		TargetTypes: GroundActor, Structure, Monolith
	RenderSprites:
		Palette: greentiberium
		Image: bigblue
	WithSpriteBody:
		RequiresCondition: !burst && !making
	WithSpriteBody@burst:
		RequiresCondition: burst
		StartSequence: active
	WithSpriteBody@make:
		RequiresCondition: making
		StartSequence: make
	GrantTimedCondition:
		Condition: making
		Duration: 200
	Tooltip:
		Name: actor-tmonolith-name
	SeedsResource:
		RequiresCondition: !making
		ResourceType: Tiberium
		Interval: 50
		MaxRange: 500
	SeedsResource@burst:
		RequiresCondition: burst
		ResourceType: Tiberium
		Interval: 3
		MaxRange: 500
	GrantPeriodicCondition@burst:
		Condition: burst
		CooldownDuration: 750, 1500
		ActiveDuration: 35, 80
	GrantPeriodicConditionOnEvent@burst:
		Condition: burst
		Triggers: Damage
		CooldownDuration: 100
		ActiveDuration: 50
	ExplodeWeapon@burst:
		RequiresCondition: burst
		Weapon: TibTreeBurst
	GrantPeriodicCondition@form:
		RequiresCondition: making
		Condition: form_fire
		CooldownDuration: 3, 15
		ActiveDuration: 10
	ExplodeWeapon@form:
		RequiresCondition: form_fire
		Weapon: MonolithShake
	WithIdleOverlay:
		RequiresCondition: !making
	ExternalCondition@growth:
		Condition: growth
	ExternalCondition@spawned:
		Condition: spawned
	ExternalCondition@dotransform:
		Condition: dotransform
	GrantRandomCondition@infectable:
		Conditions: infectable,lessinfectable
	GrantCondition@growth:
		RequiresCondition: (lessinfectable && (growth > 180)) || (infectable && (growth > 120)) || dotransform
		Condition: spawn_blue
	FireWarheadsOnDeath:
		Weapon: MonolithExplosion
		EmptyWeapon: MonolithExplosion
	SpawnActorOnDeath:
		RequiresCondition: !spawn_blue
		Actor: MINE
		OwnerType: InternalName
		InternalOwner: Neutral
	SpawnActorOnDeath@spread:
		RequiresCondition: spawn_blue
		Actor: tmonolith.blue
		SkipMakeAnimations: false
	KillsSelf@transform:
		RequiresCondition: spawn_blue
		Delay: 1
	ChangesTerrain:
		TerrainType: TibMonolith
	TerrainLightSource:
		Range: 7c0
		Intensity: 0.2
		RedTint: -0.3
		GreenTint: 0.1
		BlueTint: -0.5

TMONOLITH.BLUE:
	Inherits: TMONOLITH
	RenderSprites:
		Palette: bluetiberium
	SeedsResource:
		ResourceType: BlueTiberium
	SeedsResource@burst:
		ResourceType: BlueTiberium
	ExplodeWeapon@form:
		Weapon: MonolithShakeBlue
	ExplodeWeapon@burst:
		Weapon: TibTreeBlueBurst
	-SpawnActorOnDeath@spread:
	-GrantCondition@growth:
	-ExternalCondition@growth:
	FireWarheadsOnDeath:
		Weapon: MonolithBlueExplosion
		EmptyWeapon: MonolithBlueExplosion
	SpawnActorOnDeath:
		Actor: GMINE
	ChangesTerrain:
		TerrainType: TibMonolithBlue
	TerrainLightSource:
		Range: 7c0
		Intensity: 0.2
		RedTint: -0.2
		GreenTint: -0.1
		BlueTint: 0.1

VICE:
	Inherits: ^Viceroid
	AttackWander:

CTFLAG:
	-Targetable@REPAIR:
	-GrantConditionOnDamageState@DAMAGED:
	-GrantConditionOnDamage@ai_consideration_iron:

TreeCloaker:
	Inherits: MINE_DUMMY
	Inherits@shape: ^1x1Shape
	Targetable:
		TargetTypes: CreepGenerator
	ExternalCondition@creep:
		Condition: neartreecloak
	KillsSelf:
		RequiresCondition: !neartreecloak
		RemoveInstead: true
		Delay: 25
	ProximityExternalCondition@treecloak:
		Condition: treecloak
		Range: 1c0
		ValidRelationships: Enemy, Ally, Neutral

T01:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T02:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T03:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T04:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T05:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T06:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T07:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T08:
	Inherits@infect: ^InfectableTree

T09:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,-1
		Actor: TreeCloaker

T10:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker
	FreeActor@2:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T11:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker
	FreeActor@2:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T12:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker

T13:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker

T14:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker
	FreeActor@2:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T15:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker
	FreeActor@2:
		SpawnOffset: 1,0
		Actor: TreeCloaker

T16:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker

T17:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker

TC01:
	Inherits@infect: ^InfectableTree
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker
	FreeActor@2:
		SpawnOffset: 1,0
		Actor: TreeCloaker

TC02:
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker

TC04:
	FreeActor@1:
		SpawnOffset: 0,0
		Actor: TreeCloaker
	FreeActor@2:
		SpawnOffset: 1,0
		Actor: TreeCloaker
	FreeActor@3:
		SpawnOffset: 2,0
		Actor: TreeCloaker
	ProximityExternalCondition@treecloak:
		Range: 4c0

1TNK.CRATER:
	Inherits: 1TNK.MINE
	-FireWarheadsOnDeath:
	Mobile:
		Locomotor: floater
	SpawnActorOnDeath:
		Actor: hugecrater
		Offset: -8,-6
		SkipMakeAnimations: false

HUGECRATER:
	Inherits@1: ^SpriteActor
	Inherits@shape: ^1x1Shape
	RenderSprites:
		Palette: terrain
	HiddenUnderShroud:
	WithSpriteBody:
	Building:
		Footprint: ___xxxxxxxxxx__ _xxxxxxxxxxxxx_ _xx_________xx_ _XX_________XXX XXX__________XX XX____________X XX___________XX XX___________XX XX___________X_ _Xx___________x _XXXXXX__XXXXX_ ______XXXXXXXX_ ________XX_____
		Dimensions: 15,13
	AppearsOnRadar:
	RadarColorFromTerrain:
		Terrain: Rock
	Health:
		HP: 900000
	Armor:
		Type: Tree
	MapEditorData:
		ExcludeTilesets: INTERIOR
		Categories: Decoration
	RequiresSpecificOwners:
		ValidOwnerNames: Neutral
	WithMakeAnimation:
	WithDeathAnimation:
		DeathSequence: dead
		UseDeathTypeSuffix: false
	KillsSelf:
		Delay: 15000
	FireWarheads@smoke:
		Weapons: SmokingCrater
		Interval: 25
	ProximityExternalCondition:
		Condition: remove_tree
		Range: 8c0

1TNK.CRATER2:
	Inherits: 1TNK.CRATER
	SpawnActorOnDeath:
		Actor: hugecrater.colony

HUGECRATER.colony:
	Inherits: HUGECRATER
	RenderSprites:
		Image: HUGECRATER
	FireWarheads@lightning:
		RequiresCondition: !prereq
		StartCooldown: 200
		Interval: 475
		Weapons: WeatherGrenade
	ProvidesPrerequisite@weather:
		RequiresCondition: !prereq
		Prerequisite: environment.weather
	GrantDelayedCondition@prereq:
		Condition: prereq
		Delay: 7500
	FreeActor:
		Actor: HUGECRATER.Blocker

HUGECRATER.Blocker:
	Inherits: HUGECRATER
	RenderSprites:
		Image: HUGECRATER
	-WithSpriteBody:
	-WithMakeAnimation:
	-MapEditorData:
	-WithDeathAnimation:
	-AppearsOnRadar:
	-RadarColorFromTerrain:
	-FireWarheads@smoke:
	-ProximityExternalCondition:
	Building:
		Footprint: ===xxxxxxxxxx== =xxxxxxxxxxxxx= =xx=========xx= =XX=========XXX XXX==========XX XX============X XX===========XX XX===========XX XX===========X= =Xx===========x =XXXXXX==XXXXX= ======XXXXXXXX= ========XX=====
	KillsSelf:
		Delay: 7500

SNIPER:
	Inherits: USAPATHFINDER
	-Buildable:
	-MapEditorData:

japanoilderrick.cr:
	Inherits: japanoilderrick
	-Power:
	RenderSprites:
		Image: japanoilderrick
	Health:
		HP: 500000
	-Selectable:
	DamageMultiplier@invince:
		Modifier: 0
	Building:
		Dimensions: 1,1
		Footprint: x
	Interactable:
		Bounds: 2048,2048
	SeedsResource:
		Interval: 78
		MaxRange: 10
	-CashTrickler:
	-Buildable:
	-Capturable:
	-CaptureManager:
	-CapturableProgressBar:
	-CapturableProgressBlink:
	-CaptureNotification:
	-GrantConditionOnCapture: 
	-GrantConditionIfOwnerIsNeutral@cap:
	-ExternalCondition@bot_recapture:
	-Targetable@bot_recapture:
	MapEditorData:
		Categories: Resource spawn
	ProvidesPrerequisite@buildingname:

japanoilderrick.cr2:
	Inherits: japanoilderrick.cr
	-DamageMultiplier@invince:

1TNK.FIEND:
	Inherits: 1TNK.MINE
	-FireWarheadsOnDeath:
	SpawnActorOnDeath:
		Actor: frgdog
		OwnerType: Victim
		Probability: 1
